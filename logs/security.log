2025-06-04 04:44:33,237 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:44:33,237 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:44:33,251 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:44:33,303 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:44:33,303 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:44:33,303 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:44:33,303 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 14, 33, 303381), 'iat': datetime.datetime(2025, 6, 4, 11, 44, 33, 303383)}
2025-06-04 04:44:33,304 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTI3MywiaWF0IjoxNzQ5MDM3NDczfQ.N-6WGUFplST2lHTHTSGwtjOljpHEH9-Y_up6YW5PYQo

2025-06-04 04:44:33,436 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:44:33,436 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:44:33,439 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:44:33,492 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:44:33,492 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:44:33,492 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:44:33,492 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 14, 33, 492393), 'iat': datetime.datetime(2025, 6, 4, 11, 44, 33, 492398)}
2025-06-04 04:44:33,492 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTI3MywiaWF0IjoxNzQ5MDM3NDczfQ.N-6WGUFplST2lHTHTSGwtjOljpHEH9-Y_up6YW5PYQo

2025-06-04 04:45:31,225 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:45:31,226 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:09,923 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:09,923 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:09,925 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:09,992 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:09,992 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:09,992 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:09,992 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 9, 992250), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 9, 992254)}
2025-06-04 04:46:09,992 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTM2OSwiaWF0IjoxNzQ5MDM3NTY5fQ.woiH7bjCqBVhImwuXKA9eRKoO1esVD4AmDwBpLBZzWI

2025-06-04 04:46:42,703 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:46:42,704 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:46:42,705 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:42,705 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:46:45,215 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:45,215 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:45,218 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:45,247 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:46:45,247 - INFO - app.core.security - Redis connection parameters: host=127.0.0.1, port=6379, db=0, password=<not set>
2025-06-04 04:46:45,250 - INFO - app.core.security - Connected to Redis successfully.
2025-06-04 04:46:45,319 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:45,319 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:45,319 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:45,319 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 45, 319537), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 45, 319542)}
2025-06-04 04:46:45,320 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTQwNSwiaWF0IjoxNzQ5MDM3NjA1fQ.7UMW82ZXSgQtarvDruSTfWGFb6jJojhMBJq-h76DZFU

2025-06-04 04:46:45,330 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:46:45,330 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:46:45,330 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:46:45,330 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 16, 45, 330627), 'iat': datetime.datetime(2025, 6, 4, 11, 46, 45, 330629)}
2025-06-04 04:46:45,331 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTQwNSwiaWF0IjoxNzQ5MDM3NjA1fQ.7UMW82ZXSgQtarvDruSTfWGFb6jJojhMBJq-h76DZFU

2025-06-04 04:49:53,058 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:49:53,059 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:49:53,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:49:53,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:49:55,522 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:49:55,522 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:49:55,526 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:49:55,526 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:49:55,618 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:49:55,618 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:49:55,618 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:49:55,618 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 19, 55, 618684), 'iat': datetime.datetime(2025, 6, 4, 11, 49, 55, 618688)}
2025-06-04 04:49:55,618 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:49:55,619 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:49:55,619 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:49:55,619 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 19, 55, 618928), 'iat': datetime.datetime(2025, 6, 4, 11, 49, 55, 618932)}
2025-06-04 04:49:55,619 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTU5NSwiaWF0IjoxNzQ5MDM3Nzk1fQ.y1MFoMBs_x9ysaEOw54cMKRc5qLXZ7cZOggFXRsgJqE

2025-06-04 04:49:55,619 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTU5NSwiaWF0IjoxNzQ5MDM3Nzk1fQ.y1MFoMBs_x9ysaEOw54cMKRc5qLXZ7cZOggFXRsgJqE

2025-06-04 04:50:04,541 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:50:04,542 - INFO - app.core.security - Redis connection closed.
2025-06-04 04:50:19,486 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 04:50:19,486 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 04:50:19,567 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 04:50:19,567 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 04:50:19,567 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 04:50:19,567 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 20, 19, 567059), 'iat': datetime.datetime(2025, 6, 4, 11, 50, 19, 567064)}
2025-06-04 04:50:19,568 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTAzOTYxOSwiaWF0IjoxNzQ5MDM3ODE5fQ.gySy4hfkT_Ew0tMct_fO1F0PEIzZgLr0OszOtJ5izQM

2025-06-04 04:52:38,754 - INFO - app.core.security - Closing Redis connection...
2025-06-04 04:52:38,755 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:00:00,018 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:00:00,018 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:00:00,018 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:00:00,018 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 30, 0, 18076), 'iat': datetime.datetime(2025, 6, 4, 12, 0, 0, 18085)}
2025-06-04 05:00:00,019 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MDIwMCwiaWF0IjoxNzQ5MDM4NDAwfQ.DfWmCmr7xDBW3OKFzF_yyZKpECp7knVmtp10a1W2Khs

2025-06-04 05:06:13,243 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:06:13,244 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:06:13,244 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:06:13,244 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 12, 36, 13, 243875), 'iat': datetime.datetime(2025, 6, 4, 12, 6, 13, 243879)}
2025-06-04 05:06:13,244 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDA1NzMsImlhdCI6MTc0OTAzODc3M30.sgKLX90sVDpZ_GxHZP0lPTj_XuiV-Am0n79CfDvOSr8

2025-06-04 05:06:13,244 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDM1NzMsImlhdCI6MTc0OTAzODc3M30.Iiq1swaYJ_rHUOOEwQ0lPyLAsOu9KGZy1jsICFD_Ixs, Expiry (seconds): 604800
2025-06-04 05:06:13,279 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 05:06:26,561 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:06:26,561 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:06:26,562 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,988 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:12:33,988 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:12:33,989 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,989 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:12:33,989 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:12:34,012 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:12:34,013 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:14:22,082 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:14:22,084 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:14:25,302 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:14:25,302 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:14:25,403 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:14:25,403 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:14:25,403 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:14:25,403 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 44, 25, 403160), 'iat': datetime.datetime(2025, 6, 4, 12, 14, 25, 403163)}
2025-06-04 05:14:25,403 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTA2NSwiaWF0IjoxNzQ5MDM5MjY1fQ.Yq1P3UVaqqFk0kvxduxACZbzF9vhO8XLLxtC1AMjWg8

2025-06-04 05:14:48,923 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:14:48,923 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:14:48,924 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:14:48,924 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:14:48,924 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:14:48,959 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:14:48,960 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:18:15,957 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:18:15,957 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,958 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,958 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:18:15,958 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:18:15,959 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,959 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:18:15,959 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:18:15,966 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:18:15,966 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:18:15,967 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:19:09,969 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:19:09,970 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:19:12,860 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:19:12,861 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:19:12,954 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:19:12,954 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:19:12,954 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:19:12,954 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 49, 12, 954736), 'iat': datetime.datetime(2025, 6, 4, 12, 19, 12, 954740)}
2025-06-04 05:19:12,955 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTM1MiwiaWF0IjoxNzQ5MDM5NTUyfQ.MYdNE1JmbMiuIvezjXi83KoiM4ueO9HMqNdrFBv5UM8

2025-06-04 05:20:26,107 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:20:26,108 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:20:27,991 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:20:27,991 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:20:28,104 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:20:28,104 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:20:28,104 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:20:28,104 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 50, 28, 104231), 'iat': datetime.datetime(2025, 6, 4, 12, 20, 28, 104234)}
2025-06-04 05:20:28,104 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTQyOCwiaWF0IjoxNzQ5MDM5NjI4fQ.TJNUhThZv2Gko8gDU7XewFwzZ-QAqU7QfxkI7gWFgM4

2025-06-04 05:20:33,067 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:20:33,068 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:20:35,043 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:20:35,043 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:20:35,131 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:20:35,131 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:20:35,131 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:20:35,131 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 50, 35, 131167), 'iat': datetime.datetime(2025, 6, 4, 12, 20, 35, 131169)}
2025-06-04 05:20:35,131 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTQzNSwiaWF0IjoxNzQ5MDM5NjM1fQ.Gct4uGp-ZOezuHTKBQAcHOFPaoGpYjq8Gt22D5OPkt8

2025-06-04 05:21:27,921 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:21:27,921 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,922 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,922 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:21:27,922 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:21:27,923 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,923 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:21:27,923 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:21:27,965 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:21:27,965 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:21:27,965 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:21:51,394 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:21:51,395 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:21:53,579 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:21:53,579 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:21:53,690 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:21:53,690 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:21:53,690 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:21:53,690 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 51, 53, 690569), 'iat': datetime.datetime(2025, 6, 4, 12, 21, 53, 690571)}
2025-06-04 05:21:53,691 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTUxMywiaWF0IjoxNzQ5MDM5NzEzfQ.pSKe6y_biPOM88sxIZiYhXSxHaoN0QrmNruayfwXVuQ

2025-06-04 05:22:36,437 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:22:36,437 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:22:36,438 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:22:36,438 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:22:36,512 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:22:36,513 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:22:36,513 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:27:18,314 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:27:18,315 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:27:20,849 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:27:20,849 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:27:20,995 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:27:20,995 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:27:20,995 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:27:20,995 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 57, 20, 995267), 'iat': datetime.datetime(2025, 6, 4, 12, 27, 20, 995270)}
2025-06-04 05:27:20,995 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTg0MCwiaWF0IjoxNzQ5MDQwMDQwfQ.9vgr-B_oqHHgAAKnoLuweiicHrixHYCeHrXT0mEm0H4

2025-06-04 05:27:22,960 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:27:22,962 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:27:24,929 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:27:24,930 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:27:25,027 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:27:25,027 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:27:25,027 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:27:25,027 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 57, 25, 27821), 'iat': datetime.datetime(2025, 6, 4, 12, 27, 25, 27824)}
2025-06-04 05:27:25,028 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTg0NSwiaWF0IjoxNzQ5MDQwMDQ1fQ.a0JBJZnkzvxXmqyhrXSvmTOZDvYLzTgHOxE5pRjyNoo

2025-06-04 05:28:05,816 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:28:05,816 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:28:05,816 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,816 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:28:05,817 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:28:05,817 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:28:05,854 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:28:05,854 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:28:05,854 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:28:38,631 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:28:38,632 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:28:40,705 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:28:40,705 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:28:40,835 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:28:40,835 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:28:40,835 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:28:40,835 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 12, 58, 40, 835671), 'iat': datetime.datetime(2025, 6, 4, 12, 28, 40, 835673)}
2025-06-04 05:28:40,836 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MTkyMCwiaWF0IjoxNzQ5MDQwMTIwfQ.HTNMTpn52vGCtxYDJVc0GDZYju_jO8gvQERjkgBfs-I

2025-06-04 05:29:28,578 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:29:28,578 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:29:28,579 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,579 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,579 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:29:28,579 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:29:28,580 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:29:28,580 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,580 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:29:28,580 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:29:28,618 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:29:28,619 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:29:28,619 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:30:00,004 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:30:00,004 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:30:00,004 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:30:00,004 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 0, 0, 4481), 'iat': datetime.datetime(2025, 6, 4, 12, 30, 0, 4487)}
2025-06-04 05:30:00,005 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjAwMCwiaWF0IjoxNzQ5MDQwMjAwfQ.hEQZw1bJpaSsmEWostERLjdcPnzmzFTVRrfgxQSat04

2025-06-04 05:32:01,502 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:32:01,503 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:32:03,717 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:32:03,717 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:32:03,797 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:32:03,797 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:32:03,797 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:32:03,797 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 2, 3, 797015), 'iat': datetime.datetime(2025, 6, 4, 12, 32, 3, 797021)}
2025-06-04 05:32:03,797 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjEyMywiaWF0IjoxNzQ5MDQwMzIzfQ.Xf-Ew5IZ5VfiF-zmqgvX4Y2GR3_MEYrZst8VquWUnBw

2025-06-04 05:32:42,020 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:32:42,020 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:32:42,020 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,020 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:32:42,021 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749040573, 'iat': 1749038773}
2025-06-04 05:32:42,021 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:32:42,066 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:32:42,066 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:32:42,066 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:35:54,331 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:35:54,332 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:35:56,464 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:35:56,464 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:35:56,584 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:35:56,584 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:35:56,584 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:35:56,584 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 5, 56, 584163), 'iat': datetime.datetime(2025, 6, 4, 12, 35, 56, 584165)}
2025-06-04 05:35:56,584 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjM1NiwiaWF0IjoxNzQ5MDQwNTU2fQ._B1hcLHDi-fP6AzLD0c5DO_qpnCLXnWvFe_Eda3XWqU

2025-06-04 05:36:39,487 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:36:39,488 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:36:39,489 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 05:36:39,495 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 05:36:53,537 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:36:53,537 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:36:53,537 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:36:53,537 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 13, 6, 53, 537142), 'iat': datetime.datetime(2025, 6, 4, 12, 36, 53, 537150)}
2025-06-04 05:36:53,537 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDI0MTMsImlhdCI6MTc0OTA0MDYxM30.d0eoPTauip4ooAn5wCcNfyaBhknveRFQyJj8eQSdEsM

2025-06-04 05:36:53,538 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDU0MTMsImlhdCI6MTc0OTA0MDYxM30.sWPy0aTkOqdj3mNh7P_hD9OS3jIXm8mQ2piIZROLRLE, Expiry (seconds): 604800
2025-06-04 05:36:53,543 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 05:37:07,575 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,576 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,576 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:37:07,576 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:37:07,577 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:37:07,577 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,577 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:37:07,577 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:37:07,586 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:37:07,586 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:37:07,586 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:40:03,245 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:40:03,246 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:40:05,288 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:40:05,288 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:40:05,386 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:40:05,386 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:40:05,386 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:40:05,386 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 10, 5, 386724), 'iat': datetime.datetime(2025, 6, 4, 12, 40, 5, 386727)}
2025-06-04 05:40:05,387 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjYwNSwiaWF0IjoxNzQ5MDQwODA1fQ.x_GTKw9nr5TZf1xUTZfWHV-Qx8btdmTfpi1YaxUGfyY

2025-06-04 05:41:07,926 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,926 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,926 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:41:07,926 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:41:07,927 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,927 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:41:07,927 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:41:07,972 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:41:07,972 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:41:07,972 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:42:10,059 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:42:10,059 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:42:12,156 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:42:12,157 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:42:12,263 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:42:12,263 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:42:12,263 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:42:12,263 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 12, 12, 263260), 'iat': datetime.datetime(2025, 6, 4, 12, 42, 12, 263267)}
2025-06-04 05:42:12,264 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjczMiwiaWF0IjoxNzQ5MDQwOTMyfQ.klKADCh8VYx8GFuDhApGjksY-yWk5gPO1sj5CwQ4pC4

2025-06-04 05:42:43,394 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:42:43,395 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:42:43,395 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:42:43,436 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:42:43,436 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:42:43,436 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:43:58,065 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:43:58,066 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:44:10,062 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:44:10,062 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:44:10,193 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:44:10,193 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:44:10,193 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:44:10,193 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 14, 10, 193029), 'iat': datetime.datetime(2025, 6, 4, 12, 44, 10, 193031)}
2025-06-04 05:44:10,193 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0Mjg1MCwiaWF0IjoxNzQ5MDQxMDUwfQ.i_N6SKHsk0UVAW-iyyKAtAIz_mScvAGieT0nEzW4XLI

2025-06-04 05:45:25,614 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:45:25,615 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:45:27,653 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:45:27,653 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:45:27,742 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:45:27,742 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:45:27,742 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:45:27,743 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 15, 27, 742851), 'iat': datetime.datetime(2025, 6, 4, 12, 45, 27, 742856)}
2025-06-04 05:45:27,743 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MjkyNywiaWF0IjoxNzQ5MDQxMTI3fQ.PLGom6E7qeNoKzX-zL6_4D_iQuWreWtPUnIJbepfvDc

2025-06-04 05:45:50,478 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:45:50,479 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,480 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,480 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:45:50,480 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,481 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:45:50,481 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:45:50,547 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:45:50,547 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:45:50,547 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:47:27,145 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:47:27,147 - INFO - app.core.security - Redis connection closed.
2025-06-04 05:49:29,282 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 05:49:29,283 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 05:49:29,413 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 05:49:29,413 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 05:49:29,414 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 05:49:29,414 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 19, 29, 413866), 'iat': datetime.datetime(2025, 6, 4, 12, 49, 29, 413870)}
2025-06-04 05:49:29,414 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MzE2OSwiaWF0IjoxNzQ5MDQxMzY5fQ.2Jl3dNWuhFH4AlTk_9htE5BM0Ei_n1Tbf5WKbQBBma0

2025-06-04 05:49:31,188 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:31,188 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:31,188 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:49:31,252 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:49:31,252 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:31,252 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:44,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:44,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 05:49:44,159 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,159 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 05:49:44,160 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 05:49:44,168 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 05:49:44,169 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:49:44,169 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 05:52:03,240 - INFO - app.core.security - Closing Redis connection...
2025-06-04 05:52:03,240 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:02:00,645 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:02:00,646 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:02:00,731 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:02:00,731 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:02:00,731 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:02:00,731 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 32, 0, 731760), 'iat': datetime.datetime(2025, 6, 4, 13, 2, 0, 731763)}
2025-06-04 06:02:00,732 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0MzkyMCwiaWF0IjoxNzQ5MDQyMTIwfQ.o-W374S8QsfEsjfXbRbN8kWAGmdnxmtX-gDC3CMqX_E

2025-06-04 06:04:32,579 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:04:32,580 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:05:03,802 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:05:03,803 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:05:03,928 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:05:03,928 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:05:03,928 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:05:03,928 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 35, 3, 928822), 'iat': datetime.datetime(2025, 6, 4, 13, 5, 3, 928826)}
2025-06-04 06:05:03,929 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDEwMywiaWF0IjoxNzQ5MDQyMzAzfQ.99BpNHb9BIWR0T_ngM7mfnWHU0abZMlhYZM6B2gLtqw

2025-06-04 06:05:16,606 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:05:16,606 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749042413, 'iat': 1749040613}
2025-06-04 06:05:16,606 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:05:16,637 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:05:16,638 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:05:16,638 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:06:35,869 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:06:35,870 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:06:38,411 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:06:38,411 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:06:38,489 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:06:38,489 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:06:38,489 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:06:38,489 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 36, 38, 489720), 'iat': datetime.datetime(2025, 6, 4, 13, 6, 38, 489727)}
2025-06-04 06:06:38,490 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDE5OCwiaWF0IjoxNzQ5MDQyMzk4fQ.1e8f2DddHNe7wRlr2G1cogFiwEEA7UC3beVjjjZmAgs

2025-06-04 06:07:26,715 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:07:26,715 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:07:26,716 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 06:07:26,719 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 06:07:31,632 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:07:31,632 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:07:31,632 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:07:31,632 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 4, 13, 37, 31, 631950), 'iat': datetime.datetime(2025, 6, 4, 13, 7, 31, 631962)}
2025-06-04 06:07:31,632 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkwNDQyNTEsImlhdCI6MTc0OTA0MjQ1MX0.xJAn2UdelN7aIhAj8BYczrAF7ss0RtaJaF_CM6aCRQs

2025-06-04 06:07:31,633 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2NDcyNTEsImlhdCI6MTc0OTA0MjQ1MX0.PUKG76ZdK76RRD7UIC1tiZ5XE5BMMu_Ew99-c3fDGLg, Expiry (seconds): 604800
2025-06-04 06:07:31,666 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,914 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,914 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:08:27,914 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:08:27,915 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:08:27,915 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,915 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:08:27,915 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:08:27,921 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:08:27,922 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:08:27,922 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:10:09,636 - INFO - app.core.security - Closing Redis connection...
2025-06-04 06:10:09,637 - INFO - app.core.security - Redis connection closed.
2025-06-04 06:10:12,789 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 06:10:12,789 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 06:10:12,877 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 06:10:12,878 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 06:10:12,878 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 06:10:12,878 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 4, 13, 40, 12, 877912), 'iat': datetime.datetime(2025, 6, 4, 13, 10, 12, 877916)}
2025-06-04 06:10:12,878 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTA0NDQxMiwiaWF0IjoxNzQ5MDQyNjEyfQ.3tsQJwpjTCYPBNLlhOFD-npkAyARzenKQ3_Fu6b-TPQ

2025-06-04 06:10:22,591 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:10:22,591 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:10:22,592 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:10:22,592 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:10:22,634 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:10:22,635 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:10:22,635 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:21:25,414 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:21:25,415 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:21:25,416 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,416 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,416 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 06:21:25,417 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,417 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749044251, 'iat': 1749042451}
2025-06-04 06:21:25,417 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 06:21:25,432 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 06:21:25,432 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 06:21:25,433 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:39:46,880 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:39:46,880 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:39:46,984 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:39:46,984 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:39:46,984 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:39:46,984 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 9, 46, 984219), 'iat': datetime.datetime(2025, 6, 5, 4, 39, 46, 984222)}
2025-06-04 21:39:46,986 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDE4NiwiaWF0IjoxNzQ5MDk4Mzg2fQ.lcnk3vVm4ymtKw-KyhjRPqE62PpWdfBLX7uHUlbPpNE

2025-06-04 21:42:06,393 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:42:06,394 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:42:06,394 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:42:06,394 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 5, 12, 6, 393872), 'iat': datetime.datetime(2025, 6, 5, 4, 42, 6, 393876)}
2025-06-04 21:42:06,394 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDAzMjYsImlhdCI6MTc0OTA5ODUyNn0.W1HDiZG0w2LcoBy7eq74OCz11uq6q54VMz_oQ8r--T0

2025-06-04 21:42:06,394 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDMzMjYsImlhdCI6MTc0OTA5ODUyNn0.fHDlL5h0N1R7JuwmFGhtwB3bPleqHcjoEt8EXOBHq6E, Expiry (seconds): 604800
2025-06-04 21:42:06,395 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 21:44:56,542 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:44:56,542 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:44:56,543 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:44:56,543 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:44:56,543 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:44:56,548 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:44:56,548 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,356 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,356 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:45:35,356 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:45:35,357 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,357 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:45:35,357 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:45:35,361 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:45:35,361 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:45:35,361 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:50:31,937 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:50:31,938 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:50:35,488 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:50:35,488 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:50:35,598 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:50:35,599 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:50:35,599 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:50:35,599 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 20, 35, 598907), 'iat': datetime.datetime(2025, 6, 5, 4, 50, 35, 598913)}
2025-06-04 21:50:35,600 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDgzNSwiaWF0IjoxNzQ5MDk5MDM1fQ.qLKs3eOXoCSSBzgoEzovzXIN-tpuxqLwWceCCK2cyI8

2025-06-04 21:52:54,501 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:52:54,502 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:52:56,542 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:52:56,542 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:52:56,622 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:52:56,622 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:52:56,622 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:52:56,622 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 22, 56, 622673), 'iat': datetime.datetime(2025, 6, 5, 4, 52, 56, 622676)}
2025-06-04 21:52:56,623 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMDk3NiwiaWF0IjoxNzQ5MDk5MTc2fQ.g7Nj-v7iqeQAHhVmKcnM94WejqvSfwU6hOe0kpRVdzQ

2025-06-04 21:53:00,588 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,588 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,588 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:53:00,588 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:53:00,589 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,589 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:53:00,589 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:53:00,644 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:53:00,645 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:53:00,645 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:55:10,294 - INFO - app.core.security - Closing Redis connection...
2025-06-04 21:55:10,295 - INFO - app.core.security - Redis connection closed.
2025-06-04 21:55:12,089 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 21:55:12,089 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 21:55:12,174 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 21:55:12,174 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 21:55:12,174 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 21:55:12,174 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 25, 12, 174570), 'iat': datetime.datetime(2025, 6, 5, 4, 55, 12, 174572)}
2025-06-04 21:55:12,174 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTExMiwiaWF0IjoxNzQ5MDk5MzEyfQ.JWEXbw9hTiarJ2MPnE-mK28EdUg5F_MDGkfVTAneSsA

2025-06-04 21:55:36,007 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 21:55:36,007 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749100326, 'iat': 1749098526}
2025-06-04 21:55:36,007 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 21:55:36,032 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 21:55:36,032 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 21:55:36,032 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:00:00,010 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:00:00,010 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:00:00,010 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:00:00,011 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 30, 0, 10734), 'iat': datetime.datetime(2025, 6, 5, 5, 0, 0, 10739)}
2025-06-04 22:00:00,011 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTQwMCwiaWF0IjoxNzQ5MDk5NjAwfQ.bWYn-rk7DKDgnI0noR7z28Y_6rUOa-s3EWxDEMHaYEo

2025-06-04 22:00:44,940 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:00:44,941 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:00:46,758 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:00:46,758 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:00:46,847 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:00:46,847 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:00:46,847 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:00:46,847 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 5, 30, 46, 847003), 'iat': datetime.datetime(2025, 6, 5, 5, 0, 46, 847005)}
2025-06-04 22:00:46,847 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMTQ0NiwiaWF0IjoxNzQ5MDk5NjQ2fQ.ptJK5a9aBYT4VGoPoSeUFbFkigjRR5AC8P9W4C3Fnqs

2025-06-04 22:30:00,016 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:30:00,017 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:30:00,017 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:30:00,018 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 0, 0, 16749), 'iat': datetime.datetime(2025, 6, 5, 5, 30, 0, 16764)}
2025-06-04 22:30:00,018 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzIwMCwiaWF0IjoxNzQ5MTAxNDAwfQ.lIVmHHJE3sYQYemt85WpIS4V1IbmnjUn5Endz8K4cIs

2025-06-04 22:32:33,414 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:32:33,415 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:32:36,212 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:32:36,213 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:32:36,312 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:32:36,312 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:32:36,312 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:32:36,312 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 2, 36, 312317), 'iat': datetime.datetime(2025, 6, 5, 5, 32, 36, 312320)}
2025-06-04 22:32:36,312 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzM1NiwiaWF0IjoxNzQ5MTAxNTU2fQ.5QZXdmIYzJ8sY7JE7lhR_FwaB_NrjDvQXvecwYFvkLY

2025-06-04 22:33:07,764 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:33:07,764 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:33:07,765 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 22:33:07,768 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 22:34:01,320 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:34:01,320 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:34:01,320 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:34:01,320 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 6, 4, 1, 319947), 'iat': datetime.datetime(2025, 6, 5, 5, 34, 1, 319953)}
2025-06-04 22:34:01,320 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDM0NDEsImlhdCI6MTc0OTEwMTY0MX0.7PuEuC4PFrjrQpjCdtPp_sga2qUbkxk8ED6z6XIvP6k

2025-06-04 22:34:01,321 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDY0NDEsImlhdCI6MTc0OTEwMTY0MX0.7F1gNHnnb7ZomPHINBx1ikjNJaE7AHHEAyjuMm8V3_M, Expiry (seconds): 604800
2025-06-04 22:34:01,323 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 22:35:04,903 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:35:04,903 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,904 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,904 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:35:04,904 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,905 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:35:04,905 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 22:35:04,917 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 22:35:04,917 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:35:04,918 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:37:12,145 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:37:12,146 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:37:14,149 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:37:14,149 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:37:14,246 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:37:14,246 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:37:14,246 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:37:14,246 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 7, 14, 246026), 'iat': datetime.datetime(2025, 6, 5, 5, 37, 14, 246029)}
2025-06-04 22:37:14,246 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwMzYzNCwiaWF0IjoxNzQ5MTAxODM0fQ.ZnjSe9m3t1jR7lkQAL9WNSbG8BZDJHECFJ0W4hjnpe0

2025-06-04 22:37:42,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 22:37:42,158 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 22:37:42,158 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 22:37:42,185 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 22:37:42,185 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:37:42,185 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 22:39:44,205 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:39:44,205 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:46:53,736 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:46:53,736 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:46:53,855 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:46:53,855 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:46:53,855 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:46:53,855 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 16, 53, 855108), 'iat': datetime.datetime(2025, 6, 5, 5, 46, 53, 855112)}
2025-06-04 22:46:53,855 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDIxMywiaWF0IjoxNzQ5MTAyNDEzfQ.WWCYkY3Q2J4T1HFOkHba8gIevDUYE3ajWMpJdm6kGik

2025-06-04 22:47:29,815 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:47:29,816 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:47:31,633 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:47:31,634 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:47:31,713 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:47:31,713 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:47:31,713 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:47:31,713 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 17, 31, 713811), 'iat': datetime.datetime(2025, 6, 5, 5, 47, 31, 713815)}
2025-06-04 22:47:31,714 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDI1MSwiaWF0IjoxNzQ5MTAyNDUxfQ.Dc8mxMOCZX_GrUuE3r-MBBKz0OTDvIcGcehEY-QvMqE

2025-06-04 22:59:04,068 - INFO - app.core.security - Closing Redis connection...
2025-06-04 22:59:04,069 - INFO - app.core.security - Redis connection closed.
2025-06-04 22:59:06,180 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 22:59:06,181 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 22:59:06,272 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 22:59:06,273 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 22:59:06,273 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 22:59:06,273 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 29, 6, 272943), 'iat': datetime.datetime(2025, 6, 5, 5, 59, 6, 272946)}
2025-06-04 22:59:06,273 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNDk0NiwiaWF0IjoxNzQ5MTAzMTQ2fQ.bIb-RhWLMv-xBqXjp9isDdlmtDCMVzP4bNJ__bX-JI4

2025-06-04 23:00:00,012 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:00:00,013 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:00:00,013 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:00:00,013 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 30, 0, 12684), 'iat': datetime.datetime(2025, 6, 5, 6, 0, 0, 12693)}
2025-06-04 23:00:00,013 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTAwMCwiaWF0IjoxNzQ5MTAzMjAwfQ.P3zzaCxH0If-YyoCHRi9Jp8h-eqf5NdBzwWdDBCnnmw

2025-06-04 23:00:34,085 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:00:34,086 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:00:35,966 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:00:35,967 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:00:36,079 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:00:36,079 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:00:36,079 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:00:36,080 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 30, 36, 79808), 'iat': datetime.datetime(2025, 6, 5, 6, 0, 36, 79811)}
2025-06-04 23:00:36,080 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTAzNiwiaWF0IjoxNzQ5MTAzMjM2fQ.MX4EVIDsf5aQ0Vn8AiBpWQMSQlVX0pyEP9OHiJiZ8zk

2025-06-04 23:00:39,889 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:00:39,890 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:00:39,890 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,890 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,891 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:00:39,891 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,891 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749103441, 'iat': 1749101641}
2025-06-04 23:00:39,892 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:00:39,999 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:00:40,000 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:00:40,000 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:06:21,929 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:06:21,930 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:06:24,200 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:06:24,200 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:06:24,286 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:06:24,286 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:06:24,286 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:06:24,286 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 36, 24, 286119), 'iat': datetime.datetime(2025, 6, 5, 6, 6, 24, 286122)}
2025-06-04 23:06:24,286 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTM4NCwiaWF0IjoxNzQ5MTAzNTg0fQ.nHI1RkFf5uVLYo2R3Xd0-H5z9rq2AKJUFF0enDI7MzE

2025-06-04 23:07:40,103 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:07:40,103 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:07:41,944 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:07:41,944 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:07:42,053 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:07:42,053 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:07:42,053 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:07:42,053 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 37, 42, 53361), 'iat': datetime.datetime(2025, 6, 5, 6, 7, 42, 53364)}
2025-06-04 23:07:42,053 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTQ2MiwiaWF0IjoxNzQ5MTAzNjYyfQ.jFVIxtlLm4RUOD6Y2hhFfpRxoJo1Ucf0tG06vCYd5f4

2025-06-04 23:08:42,365 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:08:42,366 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:08:44,243 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:08:44,243 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:08:44,311 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:08:44,311 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:08:44,311 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:08:44,311 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 38, 44, 311177), 'iat': datetime.datetime(2025, 6, 5, 6, 8, 44, 311180)}
2025-06-04 23:08:44,311 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTUyNCwiaWF0IjoxNzQ5MTAzNzI0fQ.ZcfiNVKKjUkHdZBjRpm3gC2L5hDvPL4yKls6i2pSBuY

2025-06-04 23:10:07,278 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:07,279 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:07,279 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 23:10:07,280 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 23:10:11,293 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:10:11,293 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:10:11,294 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:10:11,294 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 6, 40, 11, 293508), 'iat': datetime.datetime(2025, 6, 5, 6, 10, 11, 293520)}
2025-06-04 23:10:11,294 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDU2MTEsImlhdCI6MTc0OTEwMzgxMX0.lp-G2KcV8t2WmK-ztKwviyxfu3OJlzR63RvH1cgTs4A

2025-06-04 23:10:11,294 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MDg2MTEsImlhdCI6MTc0OTEwMzgxMX0.0m8xd5Mh70hIj5fkKsInsagw7Xzyb78JhxLWRJRNYQk, Expiry (seconds): 604800
2025-06-04 23:10:11,296 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:35,766 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:10:35,767 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:10:35,767 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:10:35,774 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:10:35,775 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:10:35,775 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:11:16,736 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:11:16,737 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:11:19,083 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:11:19,084 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:11:19,204 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:11:19,204 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:11:19,204 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:11:19,204 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 41, 19, 204671), 'iat': datetime.datetime(2025, 6, 5, 6, 11, 19, 204675)}
2025-06-04 23:11:19,205 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTY3OSwiaWF0IjoxNzQ5MTAzODc5fQ.A35ylha0J-Y9eJ9nyEY_RZs7YXyDXtCyhdQr5NM37tM

2025-06-04 23:11:25,475 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:11:25,475 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:11:25,476 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,476 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,476 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:11:25,477 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,477 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:11:25,477 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:11:25,546 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:11:25,546 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:11:25,546 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:14:37,750 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:14:37,751 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:14:39,849 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:14:39,850 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:14:39,943 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:14:39,943 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:14:39,943 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:14:39,943 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 44, 39, 943696), 'iat': datetime.datetime(2025, 6, 5, 6, 14, 39, 943699)}
2025-06-04 23:14:39,944 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTg3OSwiaWF0IjoxNzQ5MTA0MDc5fQ.yAgg1iTD0NP0E7mp88kv2yDzOyivL8wVGSDg3-WVaZg

2025-06-04 23:14:42,251 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:14:42,252 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:14:44,185 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:14:44,185 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:14:44,290 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:14:44,290 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:14:44,290 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:14:44,290 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 44, 44, 290344), 'iat': datetime.datetime(2025, 6, 5, 6, 14, 44, 290346)}
2025-06-04 23:14:44,290 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNTg4NCwiaWF0IjoxNzQ5MTA0MDg0fQ.yyv971jCpcjqbQFkWT61dlnX2ANyW0ew6c5hH1zQOsI

2025-06-04 23:15:10,572 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:15:10,573 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:15:10,573 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:15:10,574 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:15:10,574 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:15:10,656 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:15:10,657 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:15:10,657 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:16:37,863 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:16:37,863 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:16:39,938 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:16:39,938 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:16:40,033 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:16:40,033 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:16:40,033 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:16:40,033 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 46, 40, 33449), 'iat': datetime.datetime(2025, 6, 5, 6, 16, 40, 33451)}
2025-06-04 23:16:40,033 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjAwMCwiaWF0IjoxNzQ5MTA0MjAwfQ.dh3Wig7h65iBJErCLWbBdrvJ2fsdHtXkeJVGyI6SdCw

2025-06-04 23:16:45,182 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:16:45,182 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:16:45,183 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,183 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,183 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:16:45,184 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,185 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:16:45,185 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:16:45,305 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:16:45,305 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:16:45,306 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:20:36,344 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:20:36,345 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:25:01,429 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:25:01,429 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:25:01,525 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:25:01,525 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:25:01,525 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:25:01,525 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 55, 1, 525125), 'iat': datetime.datetime(2025, 6, 5, 6, 25, 1, 525127)}
2025-06-04 23:25:01,525 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjUwMSwiaWF0IjoxNzQ5MTA0NzAxfQ.R_Sch3PfywrMmPt6_u1ZLagSsuzzPoFUmDLBm8mS864

2025-06-04 23:25:13,946 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:25:13,947 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:25:15,768 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:25:15,768 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:25:15,835 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:25:15,835 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:25:15,835 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:25:15,835 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 55, 15, 835157), 'iat': datetime.datetime(2025, 6, 5, 6, 25, 15, 835162)}
2025-06-04 23:25:15,835 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjUxNSwiaWF0IjoxNzQ5MTA0NzE1fQ.OTeZhqNRMuYY2BcULy2V0GxebIb1wXqektm4-_-cnsc

2025-06-04 23:25:20,862 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:25:20,862 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:25:20,862 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,862 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,863 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:25:20,863 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,863 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:25:20,864 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:25:20,942 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:25:20,942 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:25:20,942 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:26:04,516 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:26:04,517 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:26:06,691 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:26:06,691 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:26:06,803 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:26:06,803 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:26:06,803 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:26:06,803 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 56, 6, 803587), 'iat': datetime.datetime(2025, 6, 5, 6, 26, 6, 803592)}
2025-06-04 23:26:06,804 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjU2NiwiaWF0IjoxNzQ5MTA0NzY2fQ.jYlsZMZn0R5QWqgAQk03A_VmNENzZpPYRphyttf5M_0

2025-06-04 23:27:20,733 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:27:20,733 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:27:22,757 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:27:22,757 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:27:22,839 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:27:22,839 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:27:22,839 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:27:22,839 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 57, 22, 839119), 'iat': datetime.datetime(2025, 6, 5, 6, 27, 22, 839124)}
2025-06-04 23:27:22,839 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjY0MiwiaWF0IjoxNzQ5MTA0ODQyfQ.zcA6_Fw7pvaOk-lZsvuWSmRRuzk8VPSIzBnoh2OySXQ

2025-06-04 23:28:08,818 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:28:08,818 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:28:08,818 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,818 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:28:08,819 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:28:08,819 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:28:08,858 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:28:08,858 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:28:08,859 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:28:25,126 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:28:25,127 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:28:27,249 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:28:27,249 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:28:27,312 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:28:27,312 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:28:27,312 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:28:27,313 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 6, 58, 27, 312833), 'iat': datetime.datetime(2025, 6, 5, 6, 28, 27, 312836)}
2025-06-04 23:28:27,313 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjcwNywiaWF0IjoxNzQ5MTA0OTA3fQ.cnxIZPjX3CsFa6A9t43aMwxPGVSVWFU0LHO7vlO6-xo

2025-06-04 23:30:00,007 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:30:00,008 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:30:00,008 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:30:00,008 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 0, 0, 7857), 'iat': datetime.datetime(2025, 6, 5, 6, 30, 0, 7864)}
2025-06-04 23:30:00,009 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjgwMCwiaWF0IjoxNzQ5MTA1MDAwfQ.1-9F-yvYtsUgihSuPperEhPoKkV7NIRxqUR9QMdXF3o

2025-06-04 23:32:34,034 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:32:34,035 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:32:35,851 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:32:35,851 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:32:35,952 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:32:35,953 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:32:35,953 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:32:35,953 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 2, 35, 952946), 'iat': datetime.datetime(2025, 6, 5, 6, 32, 35, 952948)}
2025-06-04 23:32:35,953 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk1NSwiaWF0IjoxNzQ5MTA1MTU1fQ.w7iL3eR9wXbDqPN6wIbh28mIt5AUgy-WHJxtS2hMtfY

2025-06-04 23:32:47,881 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:32:47,881 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:32:49,789 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:32:49,790 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:32:49,879 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:32:49,879 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:32:49,879 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:32:49,879 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 2, 49, 879173), 'iat': datetime.datetime(2025, 6, 5, 6, 32, 49, 879176)}
2025-06-04 23:32:49,879 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk2OSwiaWF0IjoxNzQ5MTA1MTY5fQ.iPsz2LnOXAVrnP4m63OQFYbclUvoZInXkmMj-RUlg_o

2025-06-04 23:33:01,703 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:33:01,704 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:33:03,565 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:33:03,565 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:33:03,673 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:33:03,673 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:33:03,673 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:33:03,673 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 3, 3, 673331), 'iat': datetime.datetime(2025, 6, 5, 6, 33, 3, 673334)}
2025-06-04 23:33:03,673 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNjk4MywiaWF0IjoxNzQ5MTA1MTgzfQ.KW7VLHMgy34VYBAYPhsrFet17gp4XFG43YZDmtSTqd4

2025-06-04 23:33:15,485 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:33:15,486 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:34:15,498 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:34:15,498 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:34:15,625 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:34:15,625 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:34:15,625 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:34:15,625 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 4, 15, 625618), 'iat': datetime.datetime(2025, 6, 5, 6, 34, 15, 625620)}
2025-06-04 23:34:15,626 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzA1NSwiaWF0IjoxNzQ5MTA1MjU1fQ.hJkIKLUqP2ziBt6Az5P3cr9oBzWn4ei1uhj8EmZpMJE

2025-06-04 23:34:26,692 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:34:26,693 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:34:28,935 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:34:28,935 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:34:29,055 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:34:29,055 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:34:29,055 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:34:29,055 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 4, 29, 55731), 'iat': datetime.datetime(2025, 6, 5, 6, 34, 29, 55734)}
2025-06-04 23:34:29,056 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzA2OSwiaWF0IjoxNzQ5MTA1MjY5fQ.pzWacwEBe0vbDgdh6l6cKGArrmjGxuL2A-_t5EC9vMs

2025-06-04 23:35:49,589 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:35:49,589 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:35:51,673 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:35:51,673 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:35:51,741 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:35:51,741 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:35:51,741 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:35:51,741 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 5, 51, 741285), 'iat': datetime.datetime(2025, 6, 5, 6, 35, 51, 741289)}
2025-06-04 23:35:51,741 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzE1MSwiaWF0IjoxNzQ5MTA1MzUxfQ.wnkoeY67Nth1s_REiNahxR5LOBaGLJUyI8h_XdWQff8

2025-06-04 23:36:41,226 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,226 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,226 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:36:41,226 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:36:41,227 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,227 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749105611, 'iat': 1749103811}
2025-06-04 23:36:41,227 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:36:41,277 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:36:41,278 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:36:41,278 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:43:11,106 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:11,107 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:11,114 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-04 23:43:11,119 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\AppData\Local\Programs\Python\Python313\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-04 23:43:15,067 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:43:15,067 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:43:15,073 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:43:15,074 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 7, 13, 15, 67105), 'iat': datetime.datetime(2025, 6, 5, 6, 43, 15, 67115)}
2025-06-04 23:43:15,075 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDc1OTUsImlhdCI6MTc0OTEwNTc5NX0.SBn2gPw2GPScpVpbhMCtmszac93Vq-DiOBliWE_G79s

2025-06-04 23:43:15,076 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTA1OTUsImlhdCI6MTc0OTEwNTc5NX0.4Ji0i1BVrBpIKmIVUPs2XbTZFTOZhEyr7Og7OBd19dE, Expiry (seconds): 604800
2025-06-04 23:43:15,079 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-04 23:43:29,883 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:29,883 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,884 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,884 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:43:29,884 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:43:29,885 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,885 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:43:29,885 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:43:29,891 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:43:29,891 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:43:29,891 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:44:09,758 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:44:09,762 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:44:12,500 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:44:12,500 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:44:12,592 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:44:12,592 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:44:12,592 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:44:12,592 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 14, 12, 592236), 'iat': datetime.datetime(2025, 6, 5, 6, 44, 12, 592241)}
2025-06-04 23:44:12,592 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzY1MiwiaWF0IjoxNzQ5MTA1ODUyfQ.OnAOk30eyUfuFw8UX_Tc7RBbcYG4rWn0Py892w9QyIY

2025-06-04 23:44:21,699 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:44:21,700 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:44:21,700 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:44:21,733 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:44:21,733 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:44:21,733 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:46:32,592 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:46:32,593 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:46:34,731 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:46:34,731 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:46:34,845 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:46:34,845 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:46:34,845 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:46:34,845 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 16, 34, 845011), 'iat': datetime.datetime(2025, 6, 5, 6, 46, 34, 845015)}
2025-06-04 23:46:34,845 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzc5NCwiaWF0IjoxNzQ5MTA1OTk0fQ.l34D4yoEkXz8DJHpW6jv3MWa8072iFssEHP2-Ct1TpA

2025-06-04 23:46:39,554 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:46:39,554 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:46:41,693 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:46:41,693 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:46:41,759 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:46:41,759 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:46:41,759 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:46:41,759 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 16, 41, 759421), 'iat': datetime.datetime(2025, 6, 5, 6, 46, 41, 759426)}
2025-06-04 23:46:41,760 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwNzgwMSwiaWF0IjoxNzQ5MTA2MDAxfQ.Nl36xAL0VdZGtCCRtaCG3nfSiqhbPO62_XNtmMF2NsY

2025-06-04 23:47:09,530 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:47:09,530 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:47:09,530 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,530 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:47:09,531 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:47:09,531 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:47:09,566 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:47:09,566 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:47:09,566 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:51:54,526 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:51:54,527 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:51:56,641 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:51:56,641 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:51:56,749 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:51:56,749 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:51:56,749 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:51:56,749 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 21, 56, 749392), 'iat': datetime.datetime(2025, 6, 5, 6, 51, 56, 749394)}
2025-06-04 23:51:56,749 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODExNiwiaWF0IjoxNzQ5MTA2MzE2fQ.vkFuQlKhTITX7VV0NmOpKtj-zm1ekZsrGDJTEWzdqRw

2025-06-04 23:52:32,991 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:52:32,991 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:52:32,991 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:52:32,992 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:52:32,992 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:52:33,024 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:52:33,024 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:52:33,024 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:07,877 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:54:07,877 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,878 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,878 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:54:07,878 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:54:07,879 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,879 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:54:07,879 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:54:07,886 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:54:07,886 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:07,887 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:54:54,376 - INFO - app.core.security - Closing Redis connection...
2025-06-04 23:54:54,377 - INFO - app.core.security - Redis connection closed.
2025-06-04 23:54:56,480 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-04 23:54:56,481 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-04 23:54:56,559 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-04 23:54:56,559 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-04 23:54:56,559 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-04 23:54:56,559 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 24, 56, 559361), 'iat': datetime.datetime(2025, 6, 5, 6, 54, 56, 559365)}
2025-06-04 23:54:56,559 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODI5NiwiaWF0IjoxNzQ5MTA2NDk2fQ.4bmTTexsQuTbTnqgUXaAjwatBFKAML69PfIPC_9IK6M

2025-06-04 23:56:05,195 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:56:05,196 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:56:05,196 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,196 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-04 23:56:05,197 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749107595, 'iat': 1749105795}
2025-06-04 23:56:05,197 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-04 23:56:05,274 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-04 23:56:05,274 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-04 23:56:05,275 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:00:00,015 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:00:00,015 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:00:00,015 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:00:00,015 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 30, 0, 15192), 'iat': datetime.datetime(2025, 6, 5, 7, 0, 0, 15199)}
2025-06-05 00:00:00,015 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwODYwMCwiaWF0IjoxNzQ5MTA2ODAwfQ.UGgEb1YhMZfQ2WiyEDIH1a6_RE5ev7RDPdeVumBHkxo

2025-06-05 00:01:13,043 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:01:13,043 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:01:13,043 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:01:13,043 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 7, 31, 13, 43141), 'iat': datetime.datetime(2025, 6, 5, 7, 1, 13, 43149)}
2025-06-05 00:01:13,044 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDg2NzMsImlhdCI6MTc0OTEwNjg3M30.PvHgXFbSSMiFwx69rrPkYfQBtvtYJ_m1rMU4j1ytQsw

2025-06-05 00:01:13,044 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTE2NzMsImlhdCI6MTc0OTEwNjg3M30.QhiC5Tnu8ncOxVMTzZAcPk49K2hgLpluiDEQw4PVDjo, Expiry (seconds): 604800
2025-06-05 00:01:13,045 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:01:30,902 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:30,902 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:30,902 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:01:30,912 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:01:30,912 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:01:50,083 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:01:50,084 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:01:50,084 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:50,084 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:01:50,084 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:01:50,093 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:01:50,093 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:02:02,836 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:02:02,836 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:02:02,837 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:02,837 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:02,837 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:02:02,845 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:02:02,846 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:02:51,064 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:02:51,064 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:02:51,065 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:51,065 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749108673, 'iat': 1749106873}
2025-06-05 00:02:51,065 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:02:51,071 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:02:51,072 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:08:28,155 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:08:28,156 - INFO - app.core.security - Redis connection closed.
2025-06-05 00:08:33,675 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:08:33,675 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:08:34,341 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:08:34,342 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:08:34,342 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:08:34,342 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 38, 34, 341840), 'iat': datetime.datetime(2025, 6, 5, 7, 8, 34, 341848)}
2025-06-05 00:08:34,343 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwOTExNCwiaWF0IjoxNzQ5MTA3MzE0fQ.dtvR6M6FJho8o55xQAi1w4RXmz0Cvt49Rrtbm30YIs8

2025-06-05 00:08:37,312 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:08:37,325 - INFO - app.core.security - Redis connection closed.
2025-06-05 00:08:41,883 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:08:41,883 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:08:42,170 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:08:42,170 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:08:42,170 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:08:42,170 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 38, 42, 170419), 'iat': datetime.datetime(2025, 6, 5, 7, 8, 42, 170422)}
2025-06-05 00:08:42,170 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwOTEyMiwiaWF0IjoxNzQ5MTA3MzIyfQ.sBlkXuu3j1ERMrnQgT0VJogU9JXzHmGr7e4RoF0pcYo

2025-06-05 00:20:59,233 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:20:59,233 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:20:59,518 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:20:59,518 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:20:59,518 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:20:59,518 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 50, 59, 518041), 'iat': datetime.datetime(2025, 6, 5, 7, 20, 59, 518048)}
2025-06-05 00:20:59,519 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEwOTg1OSwiaWF0IjoxNzQ5MTA4MDU5fQ.uBZQiWVCinZb7F8B1xvqjGTqKL8N7wCYta4mmWPMRfw

2025-06-05 00:22:40,101 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:22:40,101 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:22:40,103 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-05 00:22:40,109 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-05 00:22:44,905 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:22:44,906 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:22:44,906 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:22:44,906 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 7, 52, 44, 905661), 'iat': datetime.datetime(2025, 6, 5, 7, 22, 44, 905680)}
2025-06-05 00:22:44,907 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMDk5NjQsImlhdCI6MTc0OTEwODE2NH0.ptg_CTg2qvr8ZREmgYuHRNTYyAz-eH6StlCzwnW--1Q

2025-06-05 00:22:44,908 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTI5NjQsImlhdCI6MTc0OTEwODE2NH0.Y_D_eJkB8WPZqHDt1GWQaA5R8B-RKgZBnuzGSKBj0CM, Expiry (seconds): 604800
2025-06-05 00:22:44,911 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 00:22:57,965 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:22:57,966 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:22:57,967 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:22:57,967 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:22:57,967 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-05 00:22:57,967 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:22:57,967 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:22:57,968 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:22:57,969 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:22:57,969 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:22:57,986 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:22:57,987 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:22:57,987 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:24:36,646 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:24:36,647 - INFO - app.core.security - Redis connection closed.
2025-06-05 00:24:40,385 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:24:40,386 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:24:40,534 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:24:40,534 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:24:40,534 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:24:40,534 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 54, 40, 534070), 'iat': datetime.datetime(2025, 6, 5, 7, 24, 40, 534075)}
2025-06-05 00:24:40,534 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExMDA4MCwiaWF0IjoxNzQ5MTA4MjgwfQ.kJfCAmI-zdHnekt0aSZ3Jn8Z18__2i4utVGtUDOjN-g

2025-06-05 00:28:41,221 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:28:41,222 - INFO - app.core.security - Redis connection closed.
2025-06-05 00:28:45,117 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:28:45,117 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:28:45,300 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:28:45,300 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:28:45,300 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:28:45,300 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 7, 58, 45, 300500), 'iat': datetime.datetime(2025, 6, 5, 7, 28, 45, 300509)}
2025-06-05 00:28:45,301 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExMDMyNSwiaWF0IjoxNzQ5MTA4NTI1fQ.UoLoA3xsG5dtL1HXZvCW7CCN7F3MbsnhlM0C_2otzKw

2025-06-05 00:30:00,004 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:30:00,004 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:30:00,004 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:30:00,005 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 8, 0, 0, 4597), 'iat': datetime.datetime(2025, 6, 5, 7, 30, 0, 4603)}
2025-06-05 00:30:00,005 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExMDQwMCwiaWF0IjoxNzQ5MTA4NjAwfQ.CMEYvzAMwRp29HwWWNh6-Ebhe-uVV6WJXHpc5GPTFAY

2025-06-05 00:30:20,343 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:30:20,343 - INFO - app.core.security - Redis connection closed.
2025-06-05 00:30:23,629 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 00:30:23,630 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 00:30:23,824 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:30:23,824 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:30:23,824 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:30:23,824 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 8, 0, 23, 824259), 'iat': datetime.datetime(2025, 6, 5, 7, 30, 23, 824271)}
2025-06-05 00:30:23,825 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExMDQyMywiaWF0IjoxNzQ5MTA4NjIzfQ.ex6XaXCWQ1gsI-LjtIzsZ1lPv2s-jdm1_u4dYM-T3pM

2025-06-05 00:30:39,363 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:30:39,364 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:30:39,364 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:30:39,365 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:30:39,365 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-05 00:30:39,365 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:30:39,365 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:30:39,366 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:30:39,366 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749109964, 'iat': 1749108164}
2025-06-05 00:30:39,366 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:30:39,445 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:30:39,446 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:30:39,446 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:30:59,003 - DEBUG - app.core.security - Attempting to decode token:  the update should accept ever...
2025-06-05 00:30:59,003 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:30:59,003 - WARNING - app.core.security - JWTError in decode_token: JWTError - Not enough segments
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 180, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 2, got 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 159, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 74, in verify
    header, payload, signing_input, signature = _load(token)
                                                ~~~~~^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 184, in _load
    raise JWSError("Not enough segments")
jose.exceptions.JWSError: Not enough segments

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 161, in decode
    raise JWTError(e)
jose.exceptions.JWTError: Not enough segments
2025-06-05 00:30:59,011 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 180, in _load
    signing_input, crypto_segment = jwt.rsplit(b".", 1)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: not enough values to unpack (expected 2, got 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 159, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 74, in verify
    header, payload, signing_input, signature = _load(token)
                                                ~~~~~^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 184, in _load
    raise JWSError("Not enough segments")
jose.exceptions.JWSError: Not enough segments

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 161, in decode
    raise JWTError(e)
jose.exceptions.JWTError: Not enough segments

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-05 00:31:08,703 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 00:31:08,704 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 00:31:08,704 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 00:31:08,704 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 8, 1, 8, 703629), 'iat': datetime.datetime(2025, 6, 5, 7, 31, 8, 703640)}
2025-06-05 00:31:08,704 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMTA0NjgsImlhdCI6MTc0OTEwODY2OH0.xDstzFX3viqt6rgifs0I1wxtYJPLfQqWH-tCJeRjzlI

2025-06-05 00:31:08,705 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MTM0NjgsImlhdCI6MTc0OTEwODY2OH0.0A5RKusEH9dEIOsawZP5YCGCeUwg7pWbFu793-FXJJs, Expiry (seconds): 604800
2025-06-05 00:31:08,706 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 00:31:25,887 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:31:25,887 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:31:25,887 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:25,887 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:25,887 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:31:25,893 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:31:25,894 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:31:55,255 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:31:55,255 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:31:55,255 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:55,256 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:55,256 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-05 00:31:55,256 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 00:31:55,256 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 00:31:55,256 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:55,256 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749110468, 'iat': 1749108668}
2025-06-05 00:31:55,256 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 00:31:55,264 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 00:31:55,264 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:31:55,264 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 00:41:05,860 - INFO - app.core.security - Closing Redis connection...
2025-06-05 00:41:05,861 - INFO - app.core.security - Redis connection closed.
2025-06-05 02:30:56,467 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 02:30:56,467 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 02:30:56,674 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:30:56,674 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:30:56,675 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:30:56,675 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 0, 56, 674924), 'iat': datetime.datetime(2025, 6, 5, 9, 30, 56, 674927)}
2025-06-05 02:30:56,676 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExNzY1NiwiaWF0IjoxNzQ5MTE1ODU2fQ.4qbNNRh36by6LaiYWFU3XTUSyTGX2ZfEcr8tS8j-2UU

2025-06-05 02:35:15,639 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:35:15,639 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:35:15,641 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-05 02:35:15,645 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-05 02:35:46,654 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:35:46,655 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:35:46,655 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-05 02:35:46,657 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-05 02:35:53,713 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:35:53,713 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:35:53,714 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:35:53,714 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 10, 5, 53, 713583), 'iat': datetime.datetime(2025, 6, 5, 9, 35, 53, 713595)}
2025-06-05 02:35:53,714 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMTc5NTMsImlhdCI6MTc0OTExNjE1M30.M_uq7x5FUkQMlyLaosG-aK9Q5jsPWGMyHA-rFdIYkTE

2025-06-05 02:35:53,715 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MjA5NTMsImlhdCI6MTc0OTExNjE1M30.geUSLSPS_zW7ZDelgbRjaq_vLw2HdKUSA3mK68dFwew, Expiry (seconds): 604800
2025-06-05 02:35:53,719 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 02:36:07,652 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:36:07,652 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:36:07,653 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:36:07,653 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:36:07,654 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 02:36:07,661 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 02:36:07,661 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 02:39:05,672 - INFO - app.core.security - Closing Redis connection...
2025-06-05 02:39:05,673 - INFO - app.core.security - Redis connection closed.
2025-06-05 02:39:08,079 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 02:39:08,079 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 02:39:08,194 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:39:08,194 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:39:08,194 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:39:08,194 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 9, 8, 194605), 'iat': datetime.datetime(2025, 6, 5, 9, 39, 8, 194608)}
2025-06-05 02:39:08,195 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExODE0OCwiaWF0IjoxNzQ5MTE2MzQ4fQ.cWhAZb4vyez1DGM1yqYz0HSgSRpNEQZjzmIhoLVMLpg

2025-06-05 02:39:25,442 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 02:39:25,442 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 02:39:25,520 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:39:25,520 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:39:25,520 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:39:25,520 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 9, 25, 520210), 'iat': datetime.datetime(2025, 6, 5, 9, 39, 25, 520213)}
2025-06-05 02:39:25,523 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExODE2NSwiaWF0IjoxNzQ5MTE2MzY1fQ.ReXvxaIqDNQMsTwJKqJmo2NUHLSRjZSgDY1bwsn64gw

2025-06-05 02:42:55,316 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:42:55,316 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:42:55,317 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:42:55,317 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:42:55,317 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 02:42:55,505 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 02:42:55,505 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 02:47:34,909 - INFO - app.core.security - Closing Redis connection...
2025-06-05 02:47:34,910 - INFO - app.core.security - Redis connection closed.
2025-06-05 02:47:37,964 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 02:47:37,965 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 02:47:38,139 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:47:38,139 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:47:38,139 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:47:38,139 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 17, 38, 139172), 'iat': datetime.datetime(2025, 6, 5, 9, 47, 38, 139175)}
2025-06-05 02:47:38,139 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExODY1OCwiaWF0IjoxNzQ5MTE2ODU4fQ.wMmqw2nGKz2RSlhWA6m4blNxDlF-nmQYBF2LLy8l8Ak

2025-06-05 02:47:55,893 - INFO - app.core.security - Closing Redis connection...
2025-06-05 02:47:55,897 - INFO - app.core.security - Redis connection closed.
2025-06-05 02:47:58,701 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 02:47:58,701 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 02:47:58,790 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 02:47:58,790 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 02:47:58,790 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 02:47:58,790 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 17, 58, 790314), 'iat': datetime.datetime(2025, 6, 5, 9, 47, 58, 790319)}
2025-06-05 02:47:58,791 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExODY3OCwiaWF0IjoxNzQ5MTE2ODc4fQ.WO51b1mNCnMp9m0jCokRlPa6r1_ch_25eUhjBndgXIE

2025-06-05 02:56:44,312 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:56:44,312 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:56:44,314 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:56:44,314 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:56:44,314 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-05 02:56:44,314 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 02:56:44,314 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 02:56:44,314 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:56:44,315 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 02:56:44,315 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 02:56:44,362 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 02:56:44,362 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 02:56:44,363 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 03:00:00,007 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:00:00,007 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:00:00,008 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:00:00,008 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 30, 0, 7548), 'iat': datetime.datetime(2025, 6, 5, 10, 0, 0, 7561)}
2025-06-05 03:00:00,008 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:00:00,009 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExOTQwMCwiaWF0IjoxNzQ5MTE3NjAwfQ.OIx5cmQgi24Kr2sjk9-dMWFfoTnK3-M0mK7vyUSdA9k

2025-06-05 03:00:00,009 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:00:00,009 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:00:00,009 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 30, 0, 8269), 'iat': datetime.datetime(2025, 6, 5, 10, 0, 0, 8282)}
2025-06-05 03:00:00,011 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExOTQwMCwiaWF0IjoxNzQ5MTE3NjAwfQ.OIx5cmQgi24Kr2sjk9-dMWFfoTnK3-M0mK7vyUSdA9k

2025-06-05 03:01:21,330 - INFO - app.core.security - Closing Redis connection...
2025-06-05 03:01:21,331 - INFO - app.core.security - Redis connection closed.
2025-06-05 03:01:24,176 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 03:01:24,176 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 03:01:24,270 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:01:24,270 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:01:24,270 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:01:24,270 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 10, 31, 24, 270641), 'iat': datetime.datetime(2025, 6, 5, 10, 1, 24, 270647)}
2025-06-05 03:01:24,271 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTExOTQ4NCwiaWF0IjoxNzQ5MTE3Njg0fQ.pWlfFQsNTjPyK1ZliikuUZ6zK1E-vOaOp8c0k0zY4gQ

2025-06-05 03:03:26,079 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:03:26,079 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:03:26,080 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 03:03:26,080 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 03:03:26,080 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-05 03:03:26,080 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:03:26,080 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:03:26,080 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 03:03:26,080 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749117953, 'iat': 1749116153}
2025-06-05 03:03:26,081 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 03:03:26,176 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 03:03:26,176 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 03:03:26,176 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 03:14:24,414 - INFO - app.core.security - Closing Redis connection...
2025-06-05 03:14:24,420 - INFO - app.core.security - Redis connection closed.
2025-06-05 03:30:00,074 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:30:00,077 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:30:00,077 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:30:00,077 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 11, 0, 0, 73908), 'iat': datetime.datetime(2025, 6, 5, 10, 30, 0, 73937)}
2025-06-05 03:30:00,083 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEyMTIwMCwiaWF0IjoxNzQ5MTE5NDAwfQ.2-TRAwIukpzkv7h567bkZo7K8SACMj5xuw9SNyIebMI

2025-06-05 03:33:31,561 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:33:31,562 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:33:31,562 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:33:31,562 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 11, 3, 31, 561900), 'iat': datetime.datetime(2025, 6, 5, 10, 33, 31, 561909)}
2025-06-05 03:33:31,562 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMjE0MTEsImlhdCI6MTc0OTExOTYxMX0.2uPca57z14X9ZTa85V0ByzWlDuzrh6NRYFj3rALYYXY

2025-06-05 03:33:31,563 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MjQ0MTEsImlhdCI6MTc0OTExOTYxMX0.oq-6feXLFbpOCMTyeO4C72AofayG7sP7ysxeNceWz3g, Expiry (seconds): 604800
2025-06-05 03:33:31,598 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 03:33:45,592 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:33:45,593 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:33:45,593 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749121411, 'iat': 1749119611}
2025-06-05 03:36:37,811 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:36:37,811 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:36:37,811 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-05 03:36:37,815 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-05 03:36:47,619 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:36:47,620 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:36:47,620 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:36:47,620 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 5, 11, 6, 47, 619882), 'iat': datetime.datetime(2025, 6, 5, 10, 36, 47, 619888)}
2025-06-05 03:36:47,620 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxMjE2MDcsImlhdCI6MTc0OTExOTgwN30.1iBwx6bhVCJCnIhDnWNdPXU9yLORFm6aNt5ZiubbzaA

2025-06-05 03:36:47,620 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk3MjQ2MDcsImlhdCI6MTc0OTExOTgwN30.YO3vROWTVU1-m7P0NYdbbEthDQE6fspMDqdevEcNp-Q, Expiry (seconds): 604800
2025-06-05 03:36:47,621 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-05 03:37:07,699 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:37:07,699 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:37:07,700 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749121607, 'iat': 1749119807}
2025-06-05 03:37:07,700 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749121607, 'iat': 1749119807}
2025-06-05 03:37:07,700 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 03:37:07,711 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 03:37:07,711 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-05 03:38:04,919 - INFO - app.core.security - Closing Redis connection...
2025-06-05 03:38:04,919 - INFO - app.core.security - Redis connection closed.
2025-06-05 03:38:07,890 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-05 03:38:07,891 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-05 03:38:07,988 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-05 03:38:07,988 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-05 03:38:07,988 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-05 03:38:07,988 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 5, 11, 8, 7, 988464), 'iat': datetime.datetime(2025, 6, 5, 10, 38, 7, 988468)}
2025-06-05 03:38:07,989 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTEyMTY4NywiaWF0IjoxNzQ5MTE5ODg3fQ.7DZUW30DcHqL0H0sVNyiZZsNvGqUTbtL3CUgq-MTq0s

2025-06-05 03:39:49,089 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-05 03:39:49,090 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-05 03:39:49,090 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749121607, 'iat': 1749119807}
2025-06-05 03:39:49,090 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749121607, 'iat': 1749119807}
2025-06-05 03:39:49,090 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-05 03:39:49,126 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-05 03:39:49,126 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 00:55:59,182 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 00:55:59,182 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 00:55:59,278 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 00:55:59,278 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 00:55:59,278 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 00:55:59,279 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 25, 59, 278773), 'iat': datetime.datetime(2025, 6, 6, 7, 55, 59, 278777)}
2025-06-06 00:55:59,279 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODM1OSwiaWF0IjoxNzQ5MTk2NTU5fQ.SdNqLZmYKQoVPkr8eIiTgHLYOvzoxXDKZpFecZrXD8g

2025-06-06 00:56:10,511 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 00:56:10,511 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 00:56:10,511 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749196807, 'iat': 1749195007}
2025-06-06 00:56:10,511 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749196807, 'iat': 1749195007}
2025-06-06 00:56:10,512 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-06 00:56:10,512 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 00:56:10,512 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 00:56:10,512 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749196807, 'iat': 1749195007}
2025-06-06 00:56:10,512 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749196807, 'iat': 1749195007}
2025-06-06 00:56:10,512 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 00:56:10,584 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 00:56:10,585 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 00:56:10,585 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 00:57:28,037 - INFO - app.core.security - Closing Redis connection...
2025-06-06 00:57:28,037 - INFO - app.core.security - Redis connection closed.
2025-06-06 00:58:50,642 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 00:58:50,642 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 00:58:50,719 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 00:58:50,719 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 00:58:50,719 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 00:58:50,719 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 28, 50, 719811), 'iat': datetime.datetime(2025, 6, 6, 7, 58, 50, 719815)}
2025-06-06 00:58:50,720 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODUzMCwiaWF0IjoxNzQ5MTk2NzMwfQ.pszr5lWEuTU1LGYnIrLzmKky67weYZ8SKGGufpNF8Nw

2025-06-06 01:00:00,001 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:00:00,001 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:00:00,001 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:00:00,001 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 30, 0, 1056), 'iat': datetime.datetime(2025, 6, 6, 8, 0, 0, 1060)}
2025-06-06 01:00:00,001 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODYwMCwiaWF0IjoxNzQ5MTk2ODAwfQ.D2wNkTs34AzqJTB6SkHl9aPNtWJmYEzJzE9uhZ-f3cs

2025-06-06 01:00:37,675 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:00:37,675 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:00:39,603 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:00:39,603 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:00:39,697 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:00:39,697 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:00:39,697 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:00:39,697 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 30, 39, 697514), 'iat': datetime.datetime(2025, 6, 6, 8, 0, 39, 697517)}
2025-06-06 01:00:39,698 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODYzOSwiaWF0IjoxNzQ5MTk2ODM5fQ.hySfyoQ-lWiRtoyu-ma76LyPa9AXoN42bptsOGHjE6Q

2025-06-06 01:02:59,500 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:02:59,500 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:02:59,500 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:02:59,500 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 8, 32, 59, 500358), 'iat': datetime.datetime(2025, 6, 6, 8, 2, 59, 500370)}
2025-06-06 01:02:59,501 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxOTg3NzksImlhdCI6MTc0OTE5Njk3OX0.48lDff65wKlFspbaCGJ_zN2LjuSW9TdF94VAUAKb79c

2025-06-06 01:02:59,501 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MDE3NzksImlhdCI6MTc0OTE5Njk3OX0.n-0FYKooxB0LGZkPC7rGF8KDh70M5O1UwHJMddiYBXI, Expiry (seconds): 604800
2025-06-06 01:02:59,503 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 01:03:17,263 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:03:17,264 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:03:17,264 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:03:17,264 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:03:17,265 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:03:17,273 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:03:17,273 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:04:05,693 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:04:05,694 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:04:07,561 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:04:07,561 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:04:07,616 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:04:07,616 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:04:07,616 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:04:07,616 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 34, 7, 616509), 'iat': datetime.datetime(2025, 6, 6, 8, 4, 7, 616511)}
2025-06-06 01:04:07,616 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODg0NywiaWF0IjoxNzQ5MTk3MDQ3fQ.Av94CDeR_FldKHcDjioFfB9Rruk_U36DTyOM-Cvubt8

2025-06-06 01:04:43,052 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:04:43,052 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:04:43,052 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:04:43,052 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:04:43,053 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:04:43,081 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:04:43,082 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:05:52,274 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:05:52,274 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:05:54,227 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:05:54,227 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:05:54,283 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:05:54,283 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:05:54,283 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:05:54,283 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 35, 54, 283618), 'iat': datetime.datetime(2025, 6, 6, 8, 5, 54, 283620)}
2025-06-06 01:05:54,284 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5ODk1NCwiaWF0IjoxNzQ5MTk3MTU0fQ.hNxH0EyPREVS4PstukPQAx8zQBQKUhjfiE12TLEuQ14

2025-06-06 01:06:07,389 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:06:07,390 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:06:07,390 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:07,390 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:07,390 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:06:07,418 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:06:07,418 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:06:50,374 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:06:50,374 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:06:50,374 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:50,374 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:50,374 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:06:50,377 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:06:50,377 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:06:57,845 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:06:57,845 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:06:57,845 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:57,845 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749198779, 'iat': 1749196979}
2025-06-06 01:06:57,845 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:06:57,849 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:06:57,849 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:19:56,007 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:19:56,008 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:20:00,516 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:20:00,516 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:20:00,974 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:20:00,975 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:20:00,975 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:20:00,975 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 50, 0, 974899), 'iat': datetime.datetime(2025, 6, 6, 8, 20, 0, 974902)}
2025-06-06 01:20:00,975 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTE5OTgwMCwiaWF0IjoxNzQ5MTk4MDAwfQ.-9CdYZ2rvXqIMpcMx4bCJ-sBSFlHbx1dBW3Zvvw2-mI

2025-06-06 01:20:18,431 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:20:18,431 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:20:18,432 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-06 01:20:22,777 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:20:22,778 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:20:22,778 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:20:22,778 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 8, 50, 22, 777789), 'iat': datetime.datetime(2025, 6, 6, 8, 20, 22, 777797)}
2025-06-06 01:20:22,778 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkxOTk4MjIsImlhdCI6MTc0OTE5ODAyMn0.LaQcRlg4wK2WWSVhV1lrkGluW6IrlzwmfJ3wiuMpGCU

2025-06-06 01:20:22,778 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MDI4MjIsImlhdCI6MTc0OTE5ODAyMn0.xk5BxlVGV8fNPLMetPQm7wzmAqC6mp37nhhQ_so0HME, Expiry (seconds): 604800
2025-06-06 01:20:22,779 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 01:20:31,706 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:20:31,706 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:20:31,706 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:21:33,088 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:21:33,088 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:21:33,089 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:21:33,089 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:21:33,089 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:21:33,103 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:21:33,103 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:25:12,438 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:25:12,438 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:25:14,658 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:25:14,658 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:25:14,727 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:25:14,727 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:25:14,727 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:25:14,727 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 55, 14, 727550), 'iat': datetime.datetime(2025, 6, 6, 8, 25, 14, 727553)}
2025-06-06 01:25:14,728 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDExNCwiaWF0IjoxNzQ5MTk4MzE0fQ.oU9gogsHEA1A81u5HJjjiJ8NpPSIdn2m0pVNONVdoX8

2025-06-06 01:25:26,264 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:25:26,269 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:25:29,500 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:25:29,500 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:25:29,718 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:25:29,718 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:25:29,718 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:25:29,718 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 55, 29, 718262), 'iat': datetime.datetime(2025, 6, 6, 8, 25, 29, 718269)}
2025-06-06 01:25:29,719 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDEyOSwiaWF0IjoxNzQ5MTk4MzI5fQ.6-CEd-7dULTIvj6A0BZgxinMed2oVo8JzYHPNrHrQg0

2025-06-06 01:25:42,413 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:25:42,413 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:25:44,159 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:25:44,159 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:25:44,213 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:25:44,213 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:25:44,213 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:25:44,213 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 55, 44, 213346), 'iat': datetime.datetime(2025, 6, 6, 8, 25, 44, 213349)}
2025-06-06 01:25:44,213 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDE0NCwiaWF0IjoxNzQ5MTk4MzQ0fQ.Fk7xu1VqRQLTP9OGFCJgf-oxgsW6WkXC-3jVx0xVD1U

2025-06-06 01:27:30,975 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:27:30,976 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:27:33,008 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:27:33,008 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:27:33,064 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:27:33,064 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:27:33,064 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:27:33,064 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 57, 33, 64338), 'iat': datetime.datetime(2025, 6, 6, 8, 27, 33, 64341)}
2025-06-06 01:27:33,064 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDI1MywiaWF0IjoxNzQ5MTk4NDUzfQ.3ZsVij6MYQ9We5Zps23zGhy30yCHHukc6vBE0nvMvSg

2025-06-06 01:28:17,724 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:28:17,724 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:28:17,724 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:28:58,724 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:28:58,724 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:29:00,681 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:29:00,681 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:29:00,737 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:29:00,737 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:29:00,737 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:29:00,737 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 8, 59, 0, 737521), 'iat': datetime.datetime(2025, 6, 6, 8, 29, 0, 737523)}
2025-06-06 01:29:00,737 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDM0MCwiaWF0IjoxNzQ5MTk4NTQwfQ.fGihgfGlOf6Lvli7yqRzKTfghBKqzjk6ZslkwrEMzNM

2025-06-06 01:29:02,137 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:29:02,137 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:29:02,138 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:35:38,598 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:35:38,599 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:35:41,097 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:35:41,097 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:35:41,205 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:35:41,205 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:35:41,205 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:35:41,205 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 5, 41, 205154), 'iat': datetime.datetime(2025, 6, 6, 8, 35, 41, 205158)}
2025-06-06 01:35:41,205 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMDc0MSwiaWF0IjoxNzQ5MTk4OTQxfQ.bA5Dlm28JSDFlRIFlTu_txT0XxZahGSINrm1EA6hGnQ

2025-06-06 01:35:49,875 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:35:49,875 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:35:49,875 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:36:35,396 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:36:35,396 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:36:35,396 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-06 01:36:35,400 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-06 01:36:46,464 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:36:46,464 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:36:46,465 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:36:46,465 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:36:46,465 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-06 01:36:46,465 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:36:46,465 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:36:46,465 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:36:46,465 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:36:46,465 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:36:46,519 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:36:46,520 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:36:46,520 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:44:21,768 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:44:21,768 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:44:21,768 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:45:01,709 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:45:01,710 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:45:01,710 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:45:01,710 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:45:01,710 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:45:01,713 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:45:01,713 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:49:39,987 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:49:39,987 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:49:42,096 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:49:42,096 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:49:42,206 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:49:42,207 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:49:42,207 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:49:42,207 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 19, 42, 206943), 'iat': datetime.datetime(2025, 6, 6, 8, 49, 42, 206946)}
2025-06-06 01:49:42,207 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTU4MiwiaWF0IjoxNzQ5MTk5NzgyfQ.6b0A1EX37qR9BdulJ9X1ZRpxSduvwHgutvqV6sJM9CI

2025-06-06 01:49:44,602 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:49:44,603 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:49:46,740 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:49:46,740 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:49:46,871 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:49:46,871 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:49:46,871 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:49:46,871 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 19, 46, 871247), 'iat': datetime.datetime(2025, 6, 6, 8, 49, 46, 871258)}
2025-06-06 01:49:46,872 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTU4NiwiaWF0IjoxNzQ5MTk5Nzg2fQ.lKzBiw5a7e4YczCsIwdW1r5vRLqcAjJlHt9saVpyRVU

2025-06-06 01:49:50,866 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:49:50,867 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:49:50,867 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:49:50,867 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749199822, 'iat': 1749198022}
2025-06-06 01:49:50,868 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:49:50,958 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:49:50,958 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:53:31,209 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:53:31,209 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:53:33,624 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:53:33,624 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:53:33,703 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:53:33,703 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:53:33,703 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:53:33,703 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 23, 33, 703330), 'iat': datetime.datetime(2025, 6, 6, 8, 53, 33, 703337)}
2025-06-06 01:53:33,704 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTgxMywiaWF0IjoxNzQ5MjAwMDEzfQ.yCG_9z7bcc5E2p7lE2HzjdnIlbhuh8RBPrVx5zYkYKs

2025-06-06 01:55:54,194 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:55:54,195 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:55:57,134 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:55:57,134 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:55:57,232 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:55:57,233 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:55:57,233 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:55:57,233 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 25, 57, 232922), 'iat': datetime.datetime(2025, 6, 6, 8, 55, 57, 232926)}
2025-06-06 01:55:57,233 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTk1NywiaWF0IjoxNzQ5MjAwMTU3fQ.Ozaz9sFokiac1yqdXap4cGUu8VQODva1ElZPUt99XKs

2025-06-06 01:56:01,018 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:56:01,019 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:56:03,941 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:56:03,941 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:56:04,043 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:56:04,043 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:56:04,043 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:56:04,043 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 26, 4, 43471), 'iat': datetime.datetime(2025, 6, 6, 8, 56, 4, 43476)}
2025-06-06 01:56:04,044 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTk2NCwiaWF0IjoxNzQ5MjAwMTY0fQ.4vzoSOm1SLx-B6zroPzRpSEnmxvwk1C1dSnBd3A1pXc

2025-06-06 01:56:17,099 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:56:17,100 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:56:19,431 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:56:19,431 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:56:19,511 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:56:19,512 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:56:19,512 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:56:19,512 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 26, 19, 511969), 'iat': datetime.datetime(2025, 6, 6, 8, 56, 19, 511972)}
2025-06-06 01:56:19,512 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMTk3OSwiaWF0IjoxNzQ5MjAwMTc5fQ.rQAM3BBmGLOHC67lNcOCrQt1mC0C6hQJ_Y4v1j8VBzA

2025-06-06 01:56:21,208 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:56:21,208 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:56:21,209 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-06 01:56:21,212 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-06 01:56:26,270 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:56:26,270 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:56:26,270 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:56:26,270 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 9, 26, 26, 270411), 'iat': datetime.datetime(2025, 6, 6, 8, 56, 26, 270421)}
2025-06-06 01:56:26,271 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMDE5ODYsImlhdCI6MTc0OTIwMDE4Nn0.neaMjXOYNR1VY_d2vj_baUpfBvM7CJUQQalNREVzVfs

2025-06-06 01:56:26,271 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MDQ5ODYsImlhdCI6MTc0OTIwMDE4Nn0.sH2IxXFCkl9t3WNJ3G4IwpGP91tK-qmgGrfpaPf0TcI, Expiry (seconds): 604800
2025-06-06 01:56:26,272 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 01:56:38,862 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:56:38,863 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:56:38,863 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:56:38,863 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:56:38,863 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:56:38,874 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:56:38,874 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:57:22,413 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:57:22,413 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:57:22,414 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:58:09,904 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:58:09,904 - INFO - app.core.security - Redis connection closed.
2025-06-06 01:58:26,665 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 01:58:26,665 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 01:58:26,767 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 01:58:26,767 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 01:58:26,767 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 01:58:26,767 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 28, 26, 767192), 'iat': datetime.datetime(2025, 6, 6, 8, 58, 26, 767197)}
2025-06-06 01:58:26,767 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMjEwNiwiaWF0IjoxNzQ5MjAwMzA2fQ.ZhNEsh8VSOVSXb1-ey5Mm8COTI_pRr2kzEYOThcm8S4

2025-06-06 01:58:29,196 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:58:29,197 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:58:29,197 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:58:46,135 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 01:58:46,135 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 01:58:46,135 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:58:46,136 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 01:58:46,136 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 01:58:46,154 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 01:58:46,154 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 01:59:23,873 - INFO - app.core.security - Closing Redis connection...
2025-06-06 01:59:23,874 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:06:37,061 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:06:37,061 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:06:37,202 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:06:37,202 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:06:37,202 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:06:37,202 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 36, 37, 202465), 'iat': datetime.datetime(2025, 6, 6, 9, 6, 37, 202473)}
2025-06-06 02:06:37,203 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMjU5NywiaWF0IjoxNzQ5MjAwNzk3fQ.O-67kicN0Nj_dEguEtAsJXLFPdXhB31OXwF7c4tg3ck

2025-06-06 02:06:45,376 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:06:45,376 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:06:45,376 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:07:23,139 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:07:23,139 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:07:23,139 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:07:23,139 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:07:23,139 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 02:07:23,160 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 02:07:23,160 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 02:08:15,105 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:08:15,106 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:08:17,049 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:08:17,049 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:08:17,107 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:08:17,107 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:08:17,107 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:08:17,107 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 38, 17, 107291), 'iat': datetime.datetime(2025, 6, 6, 9, 8, 17, 107294)}
2025-06-06 02:08:17,107 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMjY5NywiaWF0IjoxNzQ5MjAwODk3fQ.UU3-0RuCAN0gp908DiubI43Cuo84DksIbbMi9oPi_3g

2025-06-06 02:08:36,783 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:08:36,784 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:08:36,784 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:08:55,690 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:08:55,690 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:08:55,690 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:08:55,691 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:08:55,691 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 02:08:55,708 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 02:08:55,708 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 02:10:52,184 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:10:52,184 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:10:54,186 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:10:54,186 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:10:54,278 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:10:54,279 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:10:54,279 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:10:54,279 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 40, 54, 278966), 'iat': datetime.datetime(2025, 6, 6, 9, 10, 54, 278969)}
2025-06-06 02:10:54,279 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMjg1NCwiaWF0IjoxNzQ5MjAxMDU0fQ.nWvptoMUbpwGRWhXE1ZHk-bXau-fnfWTmmI23Wa3Wkc

2025-06-06 02:13:18,220 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:13:18,221 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:13:20,332 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:13:20,332 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:13:20,440 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:13:20,440 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:13:20,440 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:13:20,440 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 43, 20, 440675), 'iat': datetime.datetime(2025, 6, 6, 9, 13, 20, 440677)}
2025-06-06 02:13:20,441 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzAwMCwiaWF0IjoxNzQ5MjAxMjAwfQ.IkmD4_WkzPDkZkkhkUiXxV25Jdei3MemUMPjhikvKUc

2025-06-06 02:13:53,246 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:13:53,246 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:13:53,246 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:15:04,813 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:15:04,813 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:15:06,976 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:15:06,976 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:15:07,042 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:15:07,042 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:15:07,042 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:15:07,042 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 45, 7, 42116), 'iat': datetime.datetime(2025, 6, 6, 9, 15, 7, 42119)}
2025-06-06 02:15:07,042 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzEwNywiaWF0IjoxNzQ5MjAxMzA3fQ.02X0__o_h4X9LBHg4KTxbvPz1PrZIluOZyDqGej-rdY

2025-06-06 02:15:09,019 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:15:09,019 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:15:09,019 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:18:42,504 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:18:42,505 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:18:44,497 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:18:44,497 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:18:44,599 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:18:44,599 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:18:44,599 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:18:44,599 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 48, 44, 599464), 'iat': datetime.datetime(2025, 6, 6, 9, 18, 44, 599467)}
2025-06-06 02:18:44,599 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzMyNCwiaWF0IjoxNzQ5MjAxNTI0fQ.LyRI__X_ODkk1QBUSJBTUpU0LhQnDC90citlagQaB8Q

2025-06-06 02:18:58,675 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:18:58,675 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:19:00,437 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:19:00,438 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:19:00,530 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:19:00,530 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:19:00,530 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:19:00,530 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 49, 0, 530382), 'iat': datetime.datetime(2025, 6, 6, 9, 19, 0, 530387)}
2025-06-06 02:19:00,531 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzM0MCwiaWF0IjoxNzQ5MjAxNTQwfQ.j_o9y0tP_sfSaKmIBC50qlZxSmdqW99LKD3un9ALmb0

2025-06-06 02:19:08,000 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:19:08,001 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:19:09,982 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:19:09,982 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:19:10,059 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:19:10,059 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:19:10,059 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:19:10,059 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 49, 10, 59347), 'iat': datetime.datetime(2025, 6, 6, 9, 19, 10, 59349)}
2025-06-06 02:19:10,059 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzM1MCwiaWF0IjoxNzQ5MjAxNTUwfQ.1TrxQp4PlbCNlIH0tzfyJPgktvBfxMXrEGtD9oyVbSc

2025-06-06 02:19:12,770 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:19:12,770 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:19:12,770 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:19:44,584 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:19:44,585 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:19:44,585 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:20:05,912 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:20:05,912 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:20:05,913 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:20:05,913 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:20:05,913 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 02:20:05,933 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 02:20:05,933 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 02:22:31,264 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:22:31,264 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:22:33,251 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:22:33,251 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:22:33,317 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:22:33,317 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:22:33,317 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:22:33,317 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 52, 33, 317266), 'iat': datetime.datetime(2025, 6, 6, 9, 22, 33, 317269)}
2025-06-06 02:22:33,317 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzU1MywiaWF0IjoxNzQ5MjAxNzUzfQ.Tc9jr0bGj3-QCO8CuOSHiTGV6GVox1vZbq6hy36BKBg

2025-06-06 02:22:42,741 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:22:42,741 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:22:44,609 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:22:44,609 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:22:44,693 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:22:44,694 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:22:44,694 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:22:44,694 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 52, 44, 693776), 'iat': datetime.datetime(2025, 6, 6, 9, 22, 44, 693781)}
2025-06-06 02:22:44,695 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzU2NCwiaWF0IjoxNzQ5MjAxNzY0fQ.FXPac-irpbuwJtwX1tflfvO94D-yc3KDzSu7aDWZKPc

2025-06-06 02:22:49,157 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:22:49,158 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:22:49,158 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:23:04,075 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:23:04,076 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:23:04,076 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:23:04,076 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749201986, 'iat': 1749200186}
2025-06-06 02:23:04,076 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 02:23:04,103 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 02:23:04,103 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 02:26:58,525 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:26:58,526 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:27:01,791 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:27:01,792 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:27:01,877 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:27:01,877 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:27:01,877 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:27:01,878 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 57, 1, 877881), 'iat': datetime.datetime(2025, 6, 6, 9, 27, 1, 877884)}
2025-06-06 02:27:01,878 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzgyMSwiaWF0IjoxNzQ5MjAyMDIxfQ.Wb_pf3DwIGwIDGZE_eR2uJgE8HhtjC5Y6Cc3OSXcXx0

2025-06-06 02:27:53,833 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:27:53,833 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:27:56,124 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:27:56,124 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:27:56,224 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:27:56,224 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:27:56,224 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:27:56,224 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 57, 56, 224551), 'iat': datetime.datetime(2025, 6, 6, 9, 27, 56, 224557)}
2025-06-06 02:27:56,225 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzg3NiwiaWF0IjoxNzQ5MjAyMDc2fQ.J-VcNuq3c2EUIEbQToVIAU4h_ddEGpAVpXmvSFhCx5I

2025-06-06 02:28:23,801 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:28:23,801 - INFO - app.core.security - Redis connection closed.
2025-06-06 02:28:26,058 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 02:28:26,058 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 02:28:26,136 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:28:26,136 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:28:26,136 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:28:26,136 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 9, 58, 26, 136219), 'iat': datetime.datetime(2025, 6, 6, 9, 28, 26, 136222)}
2025-06-06 02:28:26,136 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwMzkwNiwiaWF0IjoxNzQ5MjAyMTA2fQ.kDjzx1wbz_5zTBWbHZ9Yjj19HLRHaTMXeaCfLrYJxj4

2025-06-06 02:28:45,484 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:28:45,484 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:28:45,484 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-06 02:28:59,730 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:28:59,730 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:28:59,730 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:28:59,730 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 9, 58, 59, 730112), 'iat': datetime.datetime(2025, 6, 6, 9, 28, 59, 730120)}
2025-06-06 02:28:59,730 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMDM5MzksImlhdCI6MTc0OTIwMjEzOX0.FjdDIK5i6qlDnz0GCAOtw-C6GYR-leikUhAeFKYcKvA

2025-06-06 02:28:59,730 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MDY5MzksImlhdCI6MTc0OTIwMjEzOX0.V6C9dAQxzA4y2bHROXpm2TWEORsIRkwyiQpNlWuUuzc, Expiry (seconds): 604800
2025-06-06 02:28:59,731 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 02:29:16,377 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 02:29:16,377 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 02:29:16,377 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749203939, 'iat': 1749202139}
2025-06-06 02:30:00,009 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 02:30:00,009 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 02:30:00,009 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 02:30:00,010 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 10, 0, 0, 9688), 'iat': datetime.datetime(2025, 6, 6, 9, 30, 0, 9693)}
2025-06-06 02:30:00,010 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIwNDAwMCwiaWF0IjoxNzQ5MjAyMjAwfQ.zhQHv1w3k5ff-Toae-fMW2jqAKf30mdYd2H3wbCf8uI

2025-06-06 02:30:49,025 - INFO - app.core.security - Closing Redis connection...
2025-06-06 02:30:49,025 - INFO - app.core.security - Redis connection closed.
2025-06-06 05:46:23,327 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 05:46:23,328 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 05:46:23,627 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 05:46:23,627 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 05:46:23,627 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 05:46:23,627 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 16, 23, 627444), 'iat': datetime.datetime(2025, 6, 6, 12, 46, 23, 627451)}
2025-06-06 05:46:23,629 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNTc4MywiaWF0IjoxNzQ5MjEzOTgzfQ.AE2TTtKN-LVjL455uzc0qNDC_MLG6RlEG-ffWJ9dSB4

2025-06-06 05:46:49,844 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 05:46:49,844 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 05:46:49,844 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 05:46:49,844 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 13, 16, 49, 844301), 'iat': datetime.datetime(2025, 6, 6, 12, 46, 49, 844311)}
2025-06-06 05:46:49,845 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMTU4MDksImlhdCI6MTc0OTIxNDAwOX0.985weSGGo0zcmgOMqxOypMc6-pgLbgDCzLGwfKhMKBY

2025-06-06 05:46:49,845 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MTg4MDksImlhdCI6MTc0OTIxNDAwOX0.a2x8I6PTAKWT6856tgU5P5iLTxWlnGrUqANNPTK2tzo, Expiry (seconds): 604800
2025-06-06 05:46:49,879 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 05:47:11,622 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 05:47:11,622 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 05:47:11,623 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749215809, 'iat': 1749214009}
2025-06-06 05:50:59,388 - INFO - app.core.security - Closing Redis connection...
2025-06-06 05:50:59,389 - INFO - app.core.security - Redis connection closed.
2025-06-06 05:53:58,253 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 05:53:58,253 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 05:53:58,433 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 05:53:58,433 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 05:53:58,433 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 05:53:58,433 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 23, 58, 433072), 'iat': datetime.datetime(2025, 6, 6, 12, 53, 58, 433075)}
2025-06-06 05:53:58,434 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNjIzOCwiaWF0IjoxNzQ5MjE0NDM4fQ.Ma_WFq07EmGckL3ACv-_RjtznZXpJ7Ddk0B-H7dmtSI

2025-06-06 05:54:03,601 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 05:54:03,601 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 05:54:03,602 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749215809, 'iat': 1749214009}
2025-06-06 05:54:35,465 - INFO - app.core.security - Closing Redis connection...
2025-06-06 05:54:35,466 - INFO - app.core.security - Redis connection closed.
2025-06-06 05:55:18,615 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 05:55:18,615 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 05:55:18,776 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 05:55:18,776 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 05:55:18,777 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 05:55:18,777 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 25, 18, 776570), 'iat': datetime.datetime(2025, 6, 6, 12, 55, 18, 776577)}
2025-06-06 05:55:18,778 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNjMxOCwiaWF0IjoxNzQ5MjE0NTE4fQ.5hyGw4SRTOpMO3KxkwwLVgzPOSRUnOmffsWpkf7w6qg

2025-06-06 05:55:22,897 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 05:55:22,898 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 05:55:22,898 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749215809, 'iat': 1749214009}
2025-06-06 05:58:22,376 - INFO - app.core.security - Closing Redis connection...
2025-06-06 05:58:22,376 - INFO - app.core.security - Redis connection closed.
2025-06-06 06:04:10,751 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 06:04:10,751 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 06:04:10,922 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:04:10,922 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:04:10,922 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:04:10,922 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 34, 10, 922282), 'iat': datetime.datetime(2025, 6, 6, 13, 4, 10, 922285)}
2025-06-06 06:04:10,928 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNjg1MCwiaWF0IjoxNzQ5MjE1MDUwfQ.zozZneRgrZSEEhzopSRsN2phXg78qPeoO0n8rOtqh14

2025-06-06 06:04:23,206 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:04:23,207 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:04:23,207 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:04:23,207 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 13, 34, 23, 206723), 'iat': datetime.datetime(2025, 6, 6, 13, 4, 23, 206732)}
2025-06-06 06:04:23,207 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMTY4NjMsImlhdCI6MTc0OTIxNTA2M30.7MLdUSm0O6-qE_-Ay-p3L3_Vx-RYxaZzNL9V1c354Y0

2025-06-06 06:04:23,208 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MTk4NjMsImlhdCI6MTc0OTIxNTA2M30.PJ4xj0RE-u6_c_OrtJRFYnnAZksE1-VtfzVVTClrpUs, Expiry (seconds): 604800
2025-06-06 06:04:23,208 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 06:04:34,287 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 06:04:34,288 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 06:04:34,289 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749216863, 'iat': 1749215063}
2025-06-06 06:04:34,289 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749216863, 'iat': 1749215063}
2025-06-06 06:04:34,289 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 06:04:34,300 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 06:04:34,300 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 06:04:43,193 - INFO - app.core.security - Closing Redis connection...
2025-06-06 06:04:43,194 - INFO - app.core.security - Redis connection closed.
2025-06-06 06:06:13,327 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 06:06:13,327 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 06:06:13,521 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:06:13,521 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:06:13,521 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:06:13,521 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 36, 13, 521250), 'iat': datetime.datetime(2025, 6, 6, 13, 6, 13, 521261)}
2025-06-06 06:06:13,523 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNjk3MywiaWF0IjoxNzQ5MjE1MTczfQ.8iQERW6U7cMoc8_8lwA2IwMDZqQpEWtj_fkhdrhrKLA

2025-06-06 06:06:16,622 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 06:06:16,622 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 06:06:16,623 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749216863, 'iat': 1749215063}
2025-06-06 06:06:16,623 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749216863, 'iat': 1749215063}
2025-06-06 06:06:16,623 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 06:06:16,681 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 06:06:16,681 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 06:12:37,477 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 06:12:37,478 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 06:12:37,628 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:12:37,628 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:12:37,628 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:12:37,628 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 42, 37, 628023), 'iat': datetime.datetime(2025, 6, 6, 13, 12, 37, 628031)}
2025-06-06 06:12:37,630 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxNzM1NywiaWF0IjoxNzQ5MjE1NTU3fQ.VzMAwjs2-30zFcb1J7krDLleuDRCbR1WwMCRAA8yQ7Y

2025-06-06 06:13:41,616 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:13:41,616 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:13:41,616 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:13:41,617 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 13, 43, 41, 616503), 'iat': datetime.datetime(2025, 6, 6, 13, 13, 41, 616513)}
2025-06-06 06:13:41,617 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMTc0MjEsImlhdCI6MTc0OTIxNTYyMX0.akFwhr8jDYWgWDV16a76ocZq7LNyZkmTOJ9pDDjOLTI

2025-06-06 06:13:41,617 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MjA0MjEsImlhdCI6MTc0OTIxNTYyMX0.KpdQrwGKw0b_7HyC-FMvpJSmn7pYD3WcjD5x8bFzuBc, Expiry (seconds): 604800
2025-06-06 06:13:41,618 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 06:13:53,739 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 06:13:53,739 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 06:13:53,740 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749217421, 'iat': 1749215621}
2025-06-06 06:14:14,153 - INFO - app.core.security - Closing Redis connection...
2025-06-06 06:14:14,154 - INFO - app.core.security - Redis connection closed.
2025-06-06 06:25:26,323 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 06:25:26,324 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 06:25:26,473 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:25:26,473 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:25:26,473 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:25:26,473 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 55, 26, 473568), 'iat': datetime.datetime(2025, 6, 6, 13, 25, 26, 473572)}
2025-06-06 06:25:26,474 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxODEyNiwiaWF0IjoxNzQ5MjE2MzI2fQ.wRg3MoQ_p1YclNGur4AXH8p8L68izm8Q0i0YsE2u-PU

2025-06-06 06:25:37,637 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:25:37,638 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:25:37,638 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:25:37,638 - DEBUG - app.core.security - Payload to encode: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': datetime.datetime(2025, 6, 6, 13, 55, 37, 637697), 'iat': datetime.datetime(2025, 6, 6, 13, 25, 37, 637706)}
2025-06-06 06:25:37,638 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcl90eXBlIjoibGl2ZSIsImFjY291bnRfbnVtYmVyIjoiRFlZNUEiLCJleHAiOjE3NDkyMTgxMzcsImlhdCI6MTc0OTIxNjMzN30.MN13ngyFNjNW-WJ84DtpMoTjwr3cQVsva-NerVJ2-xk

2025-06-06 06:25:37,639 - INFO - app.core.security - Storing refresh token for user ID 4 (Type: N/A). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcl90eXBlIjoibGl2ZSIsImFjY291bnRfbnVtYmVyIjoiRFlZNUEiLCJleHAiOjE3NDk4MjExMzcsImlhdCI6MTc0OTIxNjMzN30.vqHPP6qkm1-hL8tAyobCBYOzNuGT6g1XO_91jydMNHU, Expiry (seconds): 604800
2025-06-06 06:25:37,640 - INFO - app.core.security - Refresh token stored successfully for user ID: 4
2025-06-06 06:25:47,283 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 06:25:47,284 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 06:25:47,284 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1749218137, 'iat': 1749216337}
2025-06-06 06:26:00,102 - INFO - app.core.security - Closing Redis connection...
2025-06-06 06:26:00,103 - INFO - app.core.security - Redis connection closed.
2025-06-06 06:28:00,683 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 06:28:00,683 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 06:28:00,864 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 06:28:00,865 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 06:28:00,865 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 06:28:00,865 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 13, 58, 0, 864793), 'iat': datetime.datetime(2025, 6, 6, 13, 28, 0, 864808)}
2025-06-06 06:28:00,867 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIxODI4MCwiaWF0IjoxNzQ5MjE2NDgwfQ.9QxSbJgzqS0jJ4JzwqMofgZZIbR8BXQqxB9Ll7-EOgw

2025-06-06 06:28:06,660 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 06:28:06,660 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 06:28:06,661 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1749218137, 'iat': 1749216337}
2025-06-06 06:28:14,142 - INFO - app.core.security - Closing Redis connection...
2025-06-06 06:28:14,142 - INFO - app.core.security - Redis connection closed.
2025-06-06 09:28:14,767 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 09:28:14,767 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 09:28:14,909 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:28:14,909 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:28:14,909 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:28:14,909 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 16, 58, 14, 908973), 'iat': datetime.datetime(2025, 6, 6, 16, 28, 14, 908980)}
2025-06-06 09:28:14,913 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIyOTA5NCwiaWF0IjoxNzQ5MjI3Mjk0fQ.cjScLXxglCtkCEMj1bQLyCU6c2wg_mBqUSnHI5SqOew

2025-06-06 09:30:00,023 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:30:00,023 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:30:00,023 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:30:00,024 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 17, 0, 0, 23568), 'iat': datetime.datetime(2025, 6, 6, 16, 30, 0, 23576)}
2025-06-06 09:30:00,024 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIyOTIwMCwiaWF0IjoxNzQ5MjI3NDAwfQ.dgptnz12g3bvG1FqAIjcbwY4rF0vzrThRdYmK3LD-Bg

2025-06-06 09:31:46,544 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:31:46,544 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:31:46,544 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:31:46,544 - DEBUG - app.core.security - Payload to encode: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': datetime.datetime(2025, 6, 6, 17, 1, 46, 544189), 'iat': datetime.datetime(2025, 6, 6, 16, 31, 46, 544199)}
2025-06-06 09:31:46,545 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcl90eXBlIjoibGl2ZSIsImFjY291bnRfbnVtYmVyIjoiRFlZNUEiLCJleHAiOjE3NDkyMjkzMDYsImlhdCI6MTc0OTIyNzUwNn0.i9yZlajgSVN40_eBU74nAQRdSFXmE3M7nvdrVip2L2o

2025-06-06 09:31:46,545 - INFO - app.core.security - Storing refresh token for user ID 4 (Type: N/A). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcl90eXBlIjoibGl2ZSIsImFjY291bnRfbnVtYmVyIjoiRFlZNUEiLCJleHAiOjE3NDk4MzIzMDYsImlhdCI6MTc0OTIyNzUwNn0.frkV3o44ZytxaUmRT7kXbhinkUrqFnIhUic7pm2kJjI, Expiry (seconds): 604800
2025-06-06 09:31:46,546 - INFO - app.core.security - Refresh token stored successfully for user ID: 4
2025-06-06 09:31:57,661 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:31:57,662 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:31:57,663 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1749229306, 'iat': 1749227506}
2025-06-06 09:32:07,106 - INFO - app.core.security - Closing Redis connection...
2025-06-06 09:32:07,107 - INFO - app.core.security - Redis connection closed.
2025-06-06 09:37:28,937 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 09:37:28,937 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 09:37:29,101 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:37:29,101 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:37:29,101 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:37:29,101 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 17, 7, 29, 101394), 'iat': datetime.datetime(2025, 6, 6, 16, 37, 29, 101398)}
2025-06-06 09:37:29,102 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIyOTY0OSwiaWF0IjoxNzQ5MjI3ODQ5fQ.aTkShZXJsiO-kEXJeSYHA0uOnHl2UoIsE8geq6JZa1E

2025-06-06 09:37:36,458 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:37:36,459 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:37:36,459 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1749229306, 'iat': 1749227506}
2025-06-06 09:39:07,050 - INFO - app.core.security - Closing Redis connection...
2025-06-06 09:39:07,051 - INFO - app.core.security - Redis connection closed.
2025-06-06 09:45:40,686 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 09:45:40,687 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 09:45:40,816 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:45:40,816 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:45:40,816 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:45:40,817 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 17, 15, 40, 816808), 'iat': datetime.datetime(2025, 6, 6, 16, 45, 40, 816814)}
2025-06-06 09:45:40,817 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIzMDE0MCwiaWF0IjoxNzQ5MjI4MzQwfQ.OwiDS8WTh-XSaF7pW7ORUtWViza2ft3xyBLGGDudXAA

2025-06-06 09:46:01,502 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:46:01,503 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:46:01,503 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '4', 'user_type': 'live', 'account_number': 'DYY5A', 'exp': 1749229306, 'iat': 1749227506}
2025-06-06 09:46:29,454 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:46:29,454 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:46:29,455 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:46:29,455 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 6, 17, 16, 29, 454797), 'iat': datetime.datetime(2025, 6, 6, 16, 46, 29, 454804)}
2025-06-06 09:46:29,455 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDkyMzAxODksImlhdCI6MTc0OTIyODM4OX0.7k_kSo_Q6YxOGo_ZEyOGs1sWS9l-1E_08-nAJV7o6DY

2025-06-06 09:46:29,455 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk4MzMxODksImlhdCI6MTc0OTIyODM4OX0.ftq9RBtBfZc-LtKQlvyekvbtkg416_tCejDp-T7bKHY, Expiry (seconds): 604800
2025-06-06 09:46:29,456 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-06 09:46:48,364 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:46:48,365 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:46:48,365 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:50:14,673 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:50:14,673 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:50:14,673 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:51:33,762 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:51:33,762 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:51:33,762 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:51:33,763 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:51:33,763 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-06 09:51:33,763 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:51:33,763 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:51:33,763 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:51:33,763 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:51:33,763 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-06 09:51:33,769 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-06 09:51:33,770 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 09:51:33,770 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-06 09:52:14,621 - INFO - app.core.security - Closing Redis connection...
2025-06-06 09:52:14,622 - INFO - app.core.security - Redis connection closed.
2025-06-06 09:54:17,347 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-06 09:54:17,348 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-06 09:54:17,583 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-06 09:54:17,583 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-06 09:54:17,583 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-06 09:54:17,583 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 6, 17, 24, 17, 583265), 'iat': datetime.datetime(2025, 6, 6, 16, 54, 17, 583269)}
2025-06-06 09:54:17,584 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTIzMDY1NywiaWF0IjoxNzQ5MjI4ODU3fQ.8IsaFyIleDEJvZFqjx3Y16GdOm8e58aEjV4VQFUsz1Q

2025-06-06 09:54:22,626 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-06 09:54:22,626 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-06 09:54:22,627 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749230189, 'iat': 1749228389}
2025-06-06 09:54:33,267 - INFO - app.core.security - Closing Redis connection...
2025-06-06 09:54:33,272 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:36:02,983 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:36:02,983 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:36:03,108 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:36:03,108 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:36:03,109 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:36:03,109 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 6, 3, 108849), 'iat': datetime.datetime(2025, 6, 9, 9, 36, 3, 108854)}
2025-06-09 02:36:03,109 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2MzU2MywiaWF0IjoxNzQ5NDYxNzYzfQ.k-SycKSdl0y2W5RDly_y5Gt420QgXr4iUgmrKhrClS4

2025-06-09 02:39:42,202 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:39:42,203 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:39:44,815 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:39:44,815 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:39:44,952 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:39:44,952 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:39:44,952 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:39:44,952 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 9, 44, 952271), 'iat': datetime.datetime(2025, 6, 9, 9, 39, 44, 952277)}
2025-06-09 02:39:44,953 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Mzc4NCwiaWF0IjoxNzQ5NDYxOTg0fQ.eh1xVRp0p-6cK_U_K8Fj025V06xUhtWrFmUOsd0ikUQ

2025-06-09 02:40:48,960 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:40:48,962 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:40:51,407 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:40:51,407 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:40:51,539 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:40:51,539 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:40:51,539 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:40:51,539 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 10, 51, 539422), 'iat': datetime.datetime(2025, 6, 9, 9, 40, 51, 539426)}
2025-06-09 02:40:51,539 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Mzg1MSwiaWF0IjoxNzQ5NDYyMDUxfQ.-Z0hJ1vkJmFS_W_2GKF6oVy3LppyOTiIvDdhUFPRu-I

2025-06-09 02:41:14,163 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:41:14,164 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:41:16,391 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:41:16,391 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:41:16,558 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:41:16,558 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:41:16,558 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:41:16,558 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 11, 16, 558368), 'iat': datetime.datetime(2025, 6, 9, 9, 41, 16, 558374)}
2025-06-09 02:41:16,559 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Mzg3NiwiaWF0IjoxNzQ5NDYyMDc2fQ.weH9Puiggqt4Fm9vnKHfO2mDmtv7HGWz1TZcF39P4Ys

2025-06-09 02:43:07,211 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:43:07,212 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:48:06,253 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:48:06,254 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:48:06,505 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:48:06,505 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:48:06,505 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:48:06,505 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 18, 6, 505149), 'iat': datetime.datetime(2025, 6, 9, 9, 48, 6, 505155)}
2025-06-09 02:48:06,506 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NDI4NiwiaWF0IjoxNzQ5NDYyNDg2fQ.g9vUuJolL7P13ZxK49ZVdKGN8-WpH3CoNXslUW8wzMs

2025-06-09 02:48:38,398 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:48:38,398 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:48:38,399 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:48:38,400 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 10, 18, 38, 398270), 'iat': datetime.datetime(2025, 6, 9, 9, 48, 38, 398279)}
2025-06-09 02:48:38,400 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0NjQzMTgsImlhdCI6MTc0OTQ2MjUxOH0.SskwvWrVMYf4tz64vi9i3bRculRGZ5wSGJg3JB04m3w

2025-06-09 02:48:38,400 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNjczMTgsImlhdCI6MTc0OTQ2MjUxOH0.J3icu_YNiKx55M54jg-c6HvRUufXvtIwKTKd9pdL378, Expiry (seconds): 604800
2025-06-09 02:48:38,402 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 02:49:10,143 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 02:49:10,144 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 02:49:10,145 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464318, 'iat': 1749462518}
2025-06-09 02:50:09,834 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 02:50:09,834 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 02:50:09,834 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 02:50:09,836 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-09 02:50:35,386 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 02:50:35,387 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 02:50:35,387 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 02:50:35,388 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-09 02:51:21,415 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:51:21,415 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:51:21,415 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:51:21,415 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 10, 21, 21, 415551), 'iat': datetime.datetime(2025, 6, 9, 9, 51, 21, 415554)}
2025-06-09 02:51:21,416 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0NjQ0ODEsImlhdCI6MTc0OTQ2MjY4MX0.wwyWsh_UzLjOIfkEn2i5OW5Pqb_BSEX3v7ecIPefaVM

2025-06-09 02:51:21,416 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNjc0ODEsImlhdCI6MTc0OTQ2MjY4MX0.dhvkzctUcHhnGm1HIu8Vvcv1bO6BxFBuJxVBHB5JhiQ, Expiry (seconds): 604800
2025-06-09 02:51:21,416 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 02:51:30,418 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 02:51:30,418 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 02:51:30,419 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 02:51:30,419 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 02:51:30,419 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 02:51:30,419 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 02:51:30,419 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 02:51:30,419 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 02:51:30,419 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 02:51:30,419 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 02:51:30,424 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 02:51:30,424 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 02:51:30,424 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 02:59:04,245 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:59:04,246 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:59:06,820 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:59:06,820 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:59:06,954 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:59:06,954 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:59:06,954 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:59:06,954 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 29, 6, 954260), 'iat': datetime.datetime(2025, 6, 9, 9, 59, 6, 954267)}
2025-06-09 02:59:06,955 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NDk0NiwiaWF0IjoxNzQ5NDYzMTQ2fQ.MSaVEOeQts-hhJwekjsFeGUifYzyb0LLjFg2MChJYy4

2025-06-09 02:59:45,722 - INFO - app.core.security - Closing Redis connection...
2025-06-09 02:59:45,722 - INFO - app.core.security - Redis connection closed.
2025-06-09 02:59:48,018 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 02:59:48,019 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 02:59:48,146 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 02:59:48,146 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 02:59:48,146 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 02:59:48,146 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 29, 48, 146726), 'iat': datetime.datetime(2025, 6, 9, 9, 59, 48, 146729)}
2025-06-09 02:59:48,147 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NDk4OCwiaWF0IjoxNzQ5NDYzMTg4fQ.75uyi7VFD2H-RakVA80X6Gi8YXF_iTKXP1eSixLhRmM

2025-06-09 03:00:00,015 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:00:00,016 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:00:00,016 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:00:00,016 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 30, 0, 15712), 'iat': datetime.datetime(2025, 6, 9, 10, 0, 0, 15730)}
2025-06-09 03:00:00,017 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTAwMCwiaWF0IjoxNzQ5NDYzMjAwfQ.q6BG_MnC81wh15gZLObYPlYacAitS8D5aQkaYArIcKo

2025-06-09 03:00:10,910 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:00:10,911 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:00:13,275 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:00:13,276 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:00:13,421 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:00:13,421 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:00:13,421 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:00:13,421 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 30, 13, 421711), 'iat': datetime.datetime(2025, 6, 9, 10, 0, 13, 421714)}
2025-06-09 03:00:13,422 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTAxMywiaWF0IjoxNzQ5NDYzMjEzfQ.LgrHyh3VPeaujY5259uk4RCRC7vzVI0IWZ6FbIxlZJs

2025-06-09 03:00:52,290 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:00:52,294 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:00:54,972 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:00:54,972 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:00:55,139 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:00:55,139 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:00:55,139 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:00:55,139 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 30, 55, 139695), 'iat': datetime.datetime(2025, 6, 9, 10, 0, 55, 139701)}
2025-06-09 03:00:55,140 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTA1NSwiaWF0IjoxNzQ5NDYzMjU1fQ.bBsCYGGKRAbLTimEMFMIp9MN4wLDXpNM_PnULcf6Sbs

2025-06-09 03:01:18,082 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:01:18,083 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:01:20,224 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:01:20,224 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:01:20,392 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:01:20,393 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:01:20,393 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:01:20,393 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 31, 20, 392871), 'iat': datetime.datetime(2025, 6, 9, 10, 1, 20, 392879)}
2025-06-09 03:01:20,393 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTA4MCwiaWF0IjoxNzQ5NDYzMjgwfQ.FCnFSznNmwbH6oXXUuUOxCUDoVZWy_xyXn_zJl2dr0U

2025-06-09 03:01:46,338 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:01:46,339 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:01:48,599 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:01:48,599 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:01:48,757 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:01:48,757 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:01:48,757 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:01:48,757 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 31, 48, 757357), 'iat': datetime.datetime(2025, 6, 9, 10, 1, 48, 757362)}
2025-06-09 03:01:48,758 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTEwOCwiaWF0IjoxNzQ5NDYzMzA4fQ.WXEtX-uTZt0x-7f9cxVuYQqZATAkamV7DWXAk3076V4

2025-06-09 03:02:34,816 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:02:34,816 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:02:34,816 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464318, 'iat': 1749462518}
2025-06-09 03:03:58,567 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:03:58,568 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:03:58,613 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464318, 'iat': 1749462518}
2025-06-09 03:04:55,009 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:04:55,010 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:04:55,010 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:04:55,010 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:04:55,010 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:04:55,068 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:04:55,068 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:09:55,961 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:09:55,961 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:09:55,964 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:09:55,965 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:09:55,966 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 03:09:55,966 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:09:55,967 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:09:55,967 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:09:55,967 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464481, 'iat': 1749462681}
2025-06-09 03:09:55,967 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:09:55,979 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:09:55,979 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:09:55,980 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:10:06,572 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:10:06,578 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:15:39,248 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:15:39,248 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:15:39,501 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:15:39,501 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:15:39,501 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:15:39,501 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 45, 39, 501362), 'iat': datetime.datetime(2025, 6, 9, 10, 15, 39, 501367)}
2025-06-09 03:15:39,502 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTkzOSwiaWF0IjoxNzQ5NDY0MTM5fQ.RwGnCSJI31Q1flEbdJwUduOx8-Li5OoJQb_yi7ZkaWA

2025-06-09 03:15:50,949 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:15:50,949 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:15:50,950 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464318, 'iat': 1749462518}
2025-06-09 03:16:14,995 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:16:14,996 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:16:26,522 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:16:26,522 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:16:26,696 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:16:26,696 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:16:26,696 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:16:26,696 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 46, 26, 696420), 'iat': datetime.datetime(2025, 6, 9, 10, 16, 26, 696423)}
2025-06-09 03:16:26,696 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NTk4NiwiaWF0IjoxNzQ5NDY0MTg2fQ.Of_DIm9zOAJwU-kcSo1DoCfiYQA9vQxDbywtDSIKEOs

2025-06-09 03:16:30,781 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:16:30,781 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:16:30,782 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749464318, 'iat': 1749462518}
2025-06-09 03:17:22,613 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:17:22,614 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:17:22,614 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 03:17:22,617 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-09 03:17:32,050 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:17:32,050 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:17:32,050 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:17:32,051 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 10, 47, 32, 50428), 'iat': datetime.datetime(2025, 6, 9, 10, 17, 32, 50440)}
2025-06-09 03:17:32,051 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0NjYwNTIsImlhdCI6MTc0OTQ2NDI1Mn0.WUD8zz7BapTC__u5HEwKiUgfjlTVzSzGjbfSEgZhmtA

2025-06-09 03:17:32,051 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNjkwNTIsImlhdCI6MTc0OTQ2NDI1Mn0.NTB61AiRSVZYm-F7dgRTtdopLGUqyxDGMVy77JcdWMI, Expiry (seconds): 604800
2025-06-09 03:17:32,052 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 03:17:41,079 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:17:41,079 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:17:41,080 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:17:41,080 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:17:41,080 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 03:17:41,080 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:17:41,080 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:17:41,081 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:17:41,081 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:17:41,081 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:17:41,088 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:17:41,088 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:17:41,088 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:18:12,059 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:18:12,060 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:23:06,618 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:23:06,618 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:23:06,809 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:23:06,809 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:23:06,809 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:23:06,810 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 53, 6, 809830), 'iat': datetime.datetime(2025, 6, 9, 10, 23, 6, 809835)}
2025-06-09 03:23:06,810 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NjM4NiwiaWF0IjoxNzQ5NDY0NTg2fQ.VPFesgrd06m6CvOctjbVoZy-QtxUwvwJOg2qND2pADk

2025-06-09 03:23:08,875 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:23:08,875 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:23:08,876 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 03:23:16,751 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:23:16,751 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:23:16,751 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:23:40,039 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:23:40,040 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:23:40,040 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:23:40,041 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:23:40,041 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:23:40,064 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:23:40,065 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:24:01,628 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:24:01,629 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:24:01,629 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:24:01,629 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:24:01,629 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 03:24:01,629 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:24:01,629 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:24:01,630 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:24:01,630 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:24:01,630 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:24:01,637 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:24:01,637 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:24:01,637 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:24:15,491 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:24:15,492 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:29:49,293 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:29:49,294 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:29:49,462 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:29:49,462 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:29:49,462 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:29:49,462 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 10, 59, 49, 462425), 'iat': datetime.datetime(2025, 6, 9, 10, 29, 49, 462428)}
2025-06-09 03:29:49,462 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Njc4OSwiaWF0IjoxNzQ5NDY0OTg5fQ.VHhhZo1ZBBV_SyrRfNlNGe8c-tU5aTBQvVtEuJ2nEdU

2025-06-09 03:29:57,114 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:29:57,115 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:29:57,115 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:30:00,016 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:30:00,016 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:30:00,016 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:30:00,016 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 0, 0, 16411), 'iat': datetime.datetime(2025, 6, 9, 10, 30, 0, 16426)}
2025-06-09 03:30:00,017 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NjgwMCwiaWF0IjoxNzQ5NDY1MDAwfQ._9uNB0NSt0G5ix1-wK3rA-CmcOVK0aY8pA7gpU5ZVzg

2025-06-09 03:30:07,693 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:30:07,694 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:32:38,597 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:32:38,597 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:32:38,769 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:32:38,769 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:32:38,769 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:32:38,769 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 2, 38, 769574), 'iat': datetime.datetime(2025, 6, 9, 10, 32, 38, 769578)}
2025-06-09 03:32:38,770 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Njk1OCwiaWF0IjoxNzQ5NDY1MTU4fQ.YbneJqC9vLt5M2sV06dhwexESI5QHaqlGqIACSDfFm0

2025-06-09 03:32:42,921 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:32:42,921 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:32:42,922 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:33:12,067 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:33:12,068 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:33:12,068 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:33:12,068 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:33:12,069 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:33:12,089 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:33:12,090 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:34:07,664 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:34:07,664 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:34:56,387 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:34:56,387 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:34:56,561 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:34:56,561 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:34:56,561 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:34:56,561 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 4, 56, 561466), 'iat': datetime.datetime(2025, 6, 9, 10, 34, 56, 561478)}
2025-06-09 03:34:56,562 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NzA5NiwiaWF0IjoxNzQ5NDY1Mjk2fQ.sKYBcZecwujuphO_Bh5bywnKXOj4lo-jeTqhM34KtCg

2025-06-09 03:36:39,642 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:36:39,643 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:36:41,973 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:36:41,974 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:36:42,161 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:36:42,161 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:36:42,161 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:36:42,161 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 6, 42, 161272), 'iat': datetime.datetime(2025, 6, 9, 10, 36, 42, 161295)}
2025-06-09 03:36:42,162 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NzIwMiwiaWF0IjoxNzQ5NDY1NDAyfQ.u6YbY_6DjL6r2-YwTJVfK7ch3sAXO1LG6TEEPefoN3c

2025-06-09 03:36:44,006 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:36:44,006 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:36:44,006 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:37:22,469 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:37:22,469 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:37:22,470 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:37:22,470 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:37:22,470 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 03:37:22,470 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:37:22,470 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:37:22,471 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:37:22,471 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749466052, 'iat': 1749464252}
2025-06-09 03:37:22,471 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:37:22,497 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:37:22,500 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:37:22,501 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:44:41,796 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:44:41,798 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:44:44,722 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:44:44,723 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:44:44,908 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:44:44,908 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:44:44,908 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:44:44,908 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 14, 44, 908015), 'iat': datetime.datetime(2025, 6, 9, 10, 44, 44, 908018)}
2025-06-09 03:44:44,908 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NzY4NCwiaWF0IjoxNzQ5NDY1ODg0fQ.llQSP613URG5ytambv499XpSUdPgWsyQTcku4ErK-c8

2025-06-09 03:45:59,891 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:45:59,892 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:46:02,058 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:46:02,058 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:46:02,207 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:46:02,207 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:46:02,207 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:46:02,207 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 16, 2, 207581), 'iat': datetime.datetime(2025, 6, 9, 10, 46, 2, 207584)}
2025-06-09 03:46:02,208 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Nzc2MiwiaWF0IjoxNzQ5NDY1OTYyfQ.hZ9dY2sN-BQicr9wSIWoMIdBr3V6_0NaqXH1habhulw

2025-06-09 03:46:48,330 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:46:48,330 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:46:50,182 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:46:50,182 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:46:50,305 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:46:50,305 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:46:50,305 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:46:50,305 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 16, 50, 305564), 'iat': datetime.datetime(2025, 6, 9, 10, 46, 50, 305568)}
2025-06-09 03:46:50,306 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NzgxMCwiaWF0IjoxNzQ5NDY2MDEwfQ.1PRk3TTdiurMMc67-iaV7YV6CZmnVwmEFvSY39DiWcE

2025-06-09 03:47:13,623 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:47:13,624 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:47:15,561 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:47:15,561 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:47:15,677 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:47:15,677 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:47:15,677 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:47:15,677 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 17, 15, 677154), 'iat': datetime.datetime(2025, 6, 9, 10, 47, 15, 677162)}
2025-06-09 03:47:15,677 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2NzgzNSwiaWF0IjoxNzQ5NDY2MDM1fQ.PNXj24yiO-2mBR367IRhMCEVxDYiyivA0uJ9i20qgBg

2025-06-09 03:48:06,586 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:48:06,587 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:48:08,632 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:48:08,632 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:48:08,753 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:48:08,753 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:48:08,753 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:48:08,753 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 18, 8, 753011), 'iat': datetime.datetime(2025, 6, 9, 10, 48, 8, 753018)}
2025-06-09 03:48:08,753 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Nzg4OCwiaWF0IjoxNzQ5NDY2MDg4fQ.rTqtXVIP8sQaSzUZtm2_vbHGksjC4WpilN2BzHVBd30

2025-06-09 03:49:08,722 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:49:08,723 - INFO - app.core.security - Redis connection closed.
2025-06-09 03:49:11,350 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 03:49:11,351 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 03:49:11,469 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:49:11,470 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:49:11,470 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:49:11,470 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 19, 11, 469920), 'iat': datetime.datetime(2025, 6, 9, 10, 49, 11, 469926)}
2025-06-09 03:49:11,471 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2Nzk1MSwiaWF0IjoxNzQ5NDY2MTUxfQ.hfniBNEH8rZ3oM3qtD2VjcHn7b9k_RP2xj8o6K8D6ps

2025-06-09 03:49:13,529 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:49:13,529 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:49:13,530 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 03:49:18,171 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 03:49:18,171 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 03:49:18,171 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 03:49:18,171 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 11, 19, 18, 171072), 'iat': datetime.datetime(2025, 6, 9, 10, 49, 18, 171085)}
2025-06-09 03:49:18,172 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0Njc5NTgsImlhdCI6MTc0OTQ2NjE1OH0.7WaKRUVr1d4TKdwbxvtHR4rOJf8woSzIZL3uMhicuac

2025-06-09 03:49:18,172 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNzA5NTgsImlhdCI6MTc0OTQ2NjE1OH0.ODyWc3lNflj3M6u0rPaii3ZRhK7lrRUKK0YNHe0Do50, Expiry (seconds): 604800
2025-06-09 03:49:18,174 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 03:49:31,819 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:49:31,819 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:49:31,820 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 03:49:59,059 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:49:59,059 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:49:59,060 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 03:49:59,061 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-09 03:50:17,270 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 03:50:17,270 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 03:50:17,270 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 03:50:17,270 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 03:50:17,270 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 03:50:17,284 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 03:50:17,284 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 03:51:26,807 - INFO - app.core.security - Closing Redis connection...
2025-06-09 03:51:26,808 - INFO - app.core.security - Redis connection closed.
2025-06-09 04:02:35,476 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 04:02:35,476 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 04:02:35,731 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 04:02:35,732 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 04:02:35,732 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 04:02:35,732 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 32, 35, 731931), 'iat': datetime.datetime(2025, 6, 9, 11, 2, 35, 731938)}
2025-06-09 04:02:35,735 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ2ODc1NSwiaWF0IjoxNzQ5NDY2OTU1fQ.Z48IK36whFUcFija6TmI7J2vP6eRXndxuvL2y--E-wc

2025-06-09 04:02:38,153 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:02:38,153 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:02:38,155 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 04:03:19,151 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:03:19,152 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:03:19,152 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 04:03:19,152 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 04:03:19,152 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-09 04:03:19,152 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:03:19,152 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:03:19,153 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 04:03:19,153 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749467958, 'iat': 1749466158}
2025-06-09 04:03:19,153 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 04:03:19,178 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 04:03:19,178 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 04:03:19,178 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 04:03:49,782 - INFO - app.core.security - Closing Redis connection...
2025-06-09 04:03:49,783 - INFO - app.core.security - Redis connection closed.
2025-06-09 04:24:36,649 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 04:24:36,650 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 04:24:36,911 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 04:24:36,911 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 04:24:36,911 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 04:24:36,911 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 11, 54, 36, 911044), 'iat': datetime.datetime(2025, 6, 9, 11, 24, 36, 911057)}
2025-06-09 04:24:36,923 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ3MDA3NiwiaWF0IjoxNzQ5NDY4Mjc2fQ.L0T3GjVsvZN3OJ4rt2-cAu8WvQYZF_GI2idaunQ67ew

2025-06-09 04:24:40,546 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:24:40,546 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:24:40,548 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 04:25:07,997 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 04:25:07,998 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 04:25:07,998 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 04:25:07,998 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 11, 55, 7, 997855), 'iat': datetime.datetime(2025, 6, 9, 11, 25, 7, 997864)}
2025-06-09 04:25:07,998 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0NzAxMDcsImlhdCI6MTc0OTQ2ODMwN30.yP_ZYVPPHdu91v81tnf0FcFEat5HlplKvZvEm7Y8XI4

2025-06-09 04:25:07,999 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNzMxMDcsImlhdCI6MTc0OTQ2ODMwN30.IztWg06YDpmxIE9PTxN3OSqaEj_RTpaABP_JAAC3p_8, Expiry (seconds): 604800
2025-06-09 04:25:08,000 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 04:25:18,619 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:25:18,620 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:25:18,620 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749470107, 'iat': 1749468307}
2025-06-09 04:25:46,519 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:25:46,519 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:25:46,519 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-09 04:25:46,521 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-09 04:26:01,752 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:26:01,753 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:26:01,753 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749470107, 'iat': 1749468307}
2025-06-09 04:26:01,753 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749470107, 'iat': 1749468307}
2025-06-09 04:26:01,753 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-09 04:26:01,759 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-09 04:26:01,759 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-09 04:27:47,674 - INFO - app.core.security - Closing Redis connection...
2025-06-09 04:27:47,676 - INFO - app.core.security - Redis connection closed.
2025-06-09 04:41:05,317 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 04:41:05,317 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 04:41:05,519 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 04:41:05,519 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 04:41:05,519 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 04:41:05,519 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 12, 11, 5, 519352), 'iat': datetime.datetime(2025, 6, 9, 11, 41, 5, 519358)}
2025-06-09 04:41:05,520 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ3MTA2NSwiaWF0IjoxNzQ5NDY5MjY1fQ.6X4PgpcmfY9jsyCgwvxsZtvjuBtrVm0mwZ7pkbDyoP4

2025-06-09 04:42:10,100 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 04:42:10,101 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 04:42:10,102 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749470107, 'iat': 1749468307}
2025-06-09 04:43:00,165 - INFO - app.core.security - Closing Redis connection...
2025-06-09 04:43:00,168 - INFO - app.core.security - Redis connection closed.
2025-06-09 05:03:48,390 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-09 05:03:48,391 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-09 05:03:48,639 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 05:03:48,639 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 05:03:48,639 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 05:03:48,639 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 9, 12, 33, 48, 639203), 'iat': datetime.datetime(2025, 6, 9, 12, 3, 48, 639211)}
2025-06-09 05:03:48,644 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTQ3MjQyOCwiaWF0IjoxNzQ5NDcwNjI4fQ.TSUq0vYfMeVuo-wcaUZfIHDZ_ziYpQaa03dnBbK2j7I

2025-06-09 05:04:06,059 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-09 05:04:06,059 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-09 05:04:06,060 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-09 05:04:06,060 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 9, 12, 34, 6, 58936), 'iat': datetime.datetime(2025, 6, 9, 12, 4, 6, 58951)}
2025-06-09 05:04:06,061 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk0NzI0NDYsImlhdCI6MTc0OTQ3MDY0Nn0.1En8xd7cOw0sjLadEgFRCH37kmu99KkTcOPDZfXdSxU

2025-06-09 05:04:06,062 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAwNzU0NDYsImlhdCI6MTc0OTQ3MDY0Nn0.i-FPETSQeZCTxdnwvWAIWOV66jLE4eG6yeKm-Dac794, Expiry (seconds): 604800
2025-06-09 05:04:06,064 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-09 05:04:16,393 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-09 05:04:16,393 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-09 05:04:16,395 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749472446, 'iat': 1749470646}
2025-06-09 05:05:00,439 - INFO - app.core.security - Closing Redis connection...
2025-06-09 05:05:00,441 - INFO - app.core.security - Redis connection closed.
2025-06-10 00:56:48,889 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 00:56:48,889 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 00:56:49,002 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 00:56:49,002 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 00:56:49,002 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 00:56:49,002 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 8, 26, 49, 2123), 'iat': datetime.datetime(2025, 6, 10, 7, 56, 49, 2127)}
2025-06-10 00:56:49,002 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NDAwOSwiaWF0IjoxNzQ5NTQyMjA5fQ.oJicF5htKF1d7IFGzO3Wm6eFF6YRfZcQGMRmynF8EYU

2025-06-10 00:56:53,395 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 00:56:53,395 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 00:56:53,396 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749543558, 'iat': 1749541758}
2025-06-10 01:00:00,008 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:00:00,008 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:00:00,008 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:00:00,008 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 8, 30, 0, 8610), 'iat': datetime.datetime(2025, 6, 10, 8, 0, 0, 8616)}
2025-06-10 01:00:00,009 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NDIwMCwiaWF0IjoxNzQ5NTQyNDAwfQ.t7bYlzs6Ho_dPv1s0dVr43f4Hq4wx5TDtLubiWzbk80

2025-06-10 01:05:34,118 - INFO - app.core.security - Closing Redis connection...
2025-06-10 01:05:34,121 - INFO - app.core.security - Redis connection closed.
2025-06-10 01:05:36,940 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 01:05:36,940 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 01:05:37,184 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:05:37,185 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:05:37,185 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:05:37,185 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 8, 35, 37, 184921), 'iat': datetime.datetime(2025, 6, 10, 8, 5, 37, 184928)}
2025-06-10 01:05:37,186 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NDUzNywiaWF0IjoxNzQ5NTQyNzM3fQ.e7-QIYqF8jBybnWQ9FAHbUSguPMBbuDNepOpUMtjolY

2025-06-10 01:30:00,023 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:30:00,025 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:30:00,026 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:30:00,026 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 0, 0, 23709), 'iat': datetime.datetime(2025, 6, 10, 8, 30, 0, 23725)}
2025-06-10 01:30:00,030 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NjAwMCwiaWF0IjoxNzQ5NTQ0MjAwfQ.kp9Y950v0e1lt79zczj-C8OZ1BsLoA2K6vcwQsREKis

2025-06-10 01:39:02,455 - INFO - app.core.security - Closing Redis connection...
2025-06-10 01:39:02,459 - INFO - app.core.security - Redis connection closed.
2025-06-10 01:39:05,237 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 01:39:05,237 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 01:39:05,429 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:39:05,429 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:39:05,429 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:39:05,429 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 9, 5, 429210), 'iat': datetime.datetime(2025, 6, 10, 8, 39, 5, 429213)}
2025-06-10 01:39:05,429 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NjU0NSwiaWF0IjoxNzQ5NTQ0NzQ1fQ.s6tQJCuvRdcSCJ4rLH4QcGadJqtWJkDvZ9VD9cCjWWM

2025-06-10 01:42:12,713 - INFO - app.core.security - Closing Redis connection...
2025-06-10 01:42:12,714 - INFO - app.core.security - Redis connection closed.
2025-06-10 01:42:15,053 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 01:42:15,053 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 01:42:15,246 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:42:15,246 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:42:15,246 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:42:15,246 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 12, 15, 246587), 'iat': datetime.datetime(2025, 6, 10, 8, 42, 15, 246592)}
2025-06-10 01:42:15,247 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NjczNSwiaWF0IjoxNzQ5NTQ0OTM1fQ.BTGyI12y6ZyyMg5EyOMLK5wgePJXwz7Mb5Z4YE3V6fQ

2025-06-10 01:44:13,747 - INFO - app.core.security - Closing Redis connection...
2025-06-10 01:44:13,748 - INFO - app.core.security - Redis connection closed.
2025-06-10 01:55:50,848 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 01:55:50,848 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 01:55:51,013 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:55:51,013 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:55:51,013 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:55:51,013 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 25, 51, 13596), 'iat': datetime.datetime(2025, 6, 10, 8, 55, 51, 13603)}
2025-06-10 01:55:51,014 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0NzU1MSwiaWF0IjoxNzQ5NTQ1NzUxfQ.2kqQt2YfkPEgZMW7K2gPQsEEju4x5c9_g40fO85-dp0

2025-06-10 01:55:58,094 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 01:55:58,094 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 01:55:58,094 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 01:55:58,095 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 9, 25, 58, 94372), 'iat': datetime.datetime(2025, 6, 10, 8, 55, 58, 94386)}
2025-06-10 01:55:58,095 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NDc1NTgsImlhdCI6MTc0OTU0NTc1OH0.KrewVBEz6J61EDEm3CAnlxosq9KVNG0Z7GE8uln5uZ4

2025-06-10 01:55:58,095 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTA1NTgsImlhdCI6MTc0OTU0NTc1OH0.F8BySkG1K5UfZxo7IwxAOdxxCoN0jqUQtEsTnaqZnPQ, Expiry (seconds): 604800
2025-06-10 01:55:58,127 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 01:56:08,977 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 01:56:08,978 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 01:56:08,979 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:56:55,435 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 01:56:55,436 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 01:56:55,436 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:57:20,669 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 01:57:20,669 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 01:57:20,669 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:57:20,670 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:57:20,670 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 01:57:20,670 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 01:57:20,670 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 01:57:20,670 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:57:20,670 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:57:20,670 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 01:57:20,694 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 01:57:20,696 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 01:57:20,697 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 01:57:31,427 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 01:57:31,428 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 01:57:31,428 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 01:59:32,669 - INFO - app.core.security - Closing Redis connection...
2025-06-10 01:59:32,670 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:08:27,519 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:08:27,520 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:08:27,645 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:08:27,645 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:08:27,645 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:08:27,645 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 38, 27, 645083), 'iat': datetime.datetime(2025, 6, 10, 9, 8, 27, 645087)}
2025-06-10 02:08:27,645 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0ODMwNywiaWF0IjoxNzQ5NTQ2NTA3fQ.jFzUY8f_vtK9TDbHWr8CotWutKzSFWyn0Iz3WKRQPwo

2025-06-10 02:08:33,317 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:08:33,318 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:08:33,319 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 02:12:50,455 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:12:50,456 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:15:49,056 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:15:49,056 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:15:49,173 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:15:49,173 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:15:49,173 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:15:49,173 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 45, 49, 173649), 'iat': datetime.datetime(2025, 6, 10, 9, 15, 49, 173652)}
2025-06-10 02:15:49,174 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0ODc0OSwiaWF0IjoxNzQ5NTQ2OTQ5fQ.mpQoJmaFBAbRLdQ-dOGZgQLK3rztRM8YBe0ibhNmIVQ

2025-06-10 02:15:53,700 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:15:53,700 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:15:53,702 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 02:16:02,150 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:16:02,152 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:19:43,455 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:19:43,455 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:19:43,571 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:19:43,571 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:19:43,571 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:19:43,571 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 49, 43, 571655), 'iat': datetime.datetime(2025, 6, 10, 9, 19, 43, 571657)}
2025-06-10 02:19:43,572 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0ODk4MywiaWF0IjoxNzQ5NTQ3MTgzfQ.EfrVYz40zJRhTPnAzMqo4QSN952KTwvxRymeOeY7Q0k

2025-06-10 02:19:54,779 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:19:54,779 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:19:54,779 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 02:20:59,611 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:20:59,612 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:21:01,986 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:21:01,986 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:21:02,117 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:21:02,117 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:21:02,117 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:21:02,117 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 9, 51, 2, 117527), 'iat': datetime.datetime(2025, 6, 10, 9, 21, 2, 117530)}
2025-06-10 02:21:02,118 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0OTA2MiwiaWF0IjoxNzQ5NTQ3MjYyfQ.g97e7_vLeEcmAzS0p0xrw-IY5mH4fuViQ1dD5wECoRI

2025-06-10 02:22:23,381 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:22:23,381 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:22:23,381 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749547558, 'iat': 1749545758}
2025-06-10 02:23:16,162 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:23:16,163 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:23:16,163 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:23:16,163 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 9, 53, 16, 162785), 'iat': datetime.datetime(2025, 6, 10, 9, 23, 16, 162797)}
2025-06-10 02:23:16,163 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NDkxOTYsImlhdCI6MTc0OTU0NzM5Nn0.6pDtgCIIFG_EQIfZWiWFLUFbZ6UhOz0f5FbJePG9IOY

2025-06-10 02:23:16,164 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTIxOTYsImlhdCI6MTc0OTU0NzM5Nn0.7lClEbK5oDBRgPkzneTgoe_9mY4k5NJGCeRIyn4C4HY, Expiry (seconds): 604800
2025-06-10 02:23:16,166 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 02:23:30,310 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:23:30,310 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:23:30,311 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549196, 'iat': 1749547396}
2025-06-10 02:23:30,311 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549196, 'iat': 1749547396}
2025-06-10 02:23:30,311 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 02:23:30,317 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 02:23:30,317 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:23:47,623 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:23:47,625 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:31:09,981 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:31:09,982 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:31:10,155 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:31:10,155 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:31:10,155 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:31:10,155 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 1, 10, 155640), 'iat': datetime.datetime(2025, 6, 10, 9, 31, 10, 155645)}
2025-06-10 02:31:10,157 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU0OTY3MCwiaWF0IjoxNzQ5NTQ3ODcwfQ.2ht6_OVvEKGtbVtlA35q2-RxOtVg3F7gzrfeKTHyqN0

2025-06-10 02:31:12,669 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:31:12,669 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:31:12,669 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:31:12,669 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 10, 1, 12, 669595), 'iat': datetime.datetime(2025, 6, 10, 9, 31, 12, 669599)}
2025-06-10 02:31:12,670 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NDk2NzIsImlhdCI6MTc0OTU0Nzg3Mn0.eLvZ7NW9YRz3kZkMZOVvqOTk6MOczGyH1d9DElTVDs4

2025-06-10 02:31:12,670 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTI2NzIsImlhdCI6MTc0OTU0Nzg3Mn0.dLTcMsua1fKrDN4qtKCXUmkTB8y-B4lOAuMwfm46JrY, Expiry (seconds): 604800
2025-06-10 02:31:12,670 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 02:31:26,957 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:31:26,957 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:31:26,959 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:31:41,908 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:31:41,908 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:31:41,909 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:31:41,909 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:31:41,909 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 02:31:41,932 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 02:31:41,933 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:32:23,535 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:32:23,535 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:32:23,536 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:32:23,536 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:32:23,536 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 02:32:23,536 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:32:23,536 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:32:23,536 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:32:23,536 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:32:23,536 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 02:32:23,545 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 02:32:23,546 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:32:23,546 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:32:46,984 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:32:46,985 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:32:46,985 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:33:20,062 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:33:20,063 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:39:41,787 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:39:41,787 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:39:41,913 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:39:41,913 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:39:41,913 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:39:41,913 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 9, 41, 913505), 'iat': datetime.datetime(2025, 6, 10, 9, 39, 41, 913509)}
2025-06-10 02:39:41,914 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MDE4MSwiaWF0IjoxNzQ5NTQ4MzgxfQ.mYN2eZ4LuPT-NCjKe4cYomnafu7I3tkN14kNsUmpu7M

2025-06-10 02:39:57,671 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:39:57,671 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:39:57,672 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749549672, 'iat': 1749547872}
2025-06-10 02:40:01,709 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:40:01,710 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:40:01,710 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:40:01,710 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 10, 10, 1, 709649), 'iat': datetime.datetime(2025, 6, 10, 9, 40, 1, 709662)}
2025-06-10 02:40:01,710 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTAyMDEsImlhdCI6MTc0OTU0ODQwMX0.g1tESiQLiEPgyEtNDcD3WU3sXKmuFWvyM8L1A3A4i_4

2025-06-10 02:40:01,711 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTMyMDEsImlhdCI6MTc0OTU0ODQwMX0.Lj-0v47o_C5TJakUb2LPFPp8Hi5YzQNSy8FLmkRTuws, Expiry (seconds): 604800
2025-06-10 02:40:01,712 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 02:40:09,430 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:40:09,431 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:40:09,431 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:41:21,473 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:41:21,474 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:41:23,497 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:41:23,497 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:41:23,625 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:41:23,625 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:41:23,625 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:41:23,625 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 11, 23, 625074), 'iat': datetime.datetime(2025, 6, 10, 9, 41, 23, 625079)}
2025-06-10 02:41:23,626 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MDI4MywiaWF0IjoxNzQ5NTQ4NDgzfQ.0XOvKlAuQRPJ7arS5gRQfcrQbkDBrFFHOJDbD-kAWpU

2025-06-10 02:43:55,193 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:43:55,195 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:43:57,507 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:43:57,508 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:43:57,658 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:43:57,658 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:43:57,658 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:43:57,658 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 13, 57, 658374), 'iat': datetime.datetime(2025, 6, 10, 9, 43, 57, 658378)}
2025-06-10 02:43:57,658 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MDQzNywiaWF0IjoxNzQ5NTQ4NjM3fQ.6Roy_hyTiJLdzU_WfAaRgbvyUgt2o-vzLHPP0u2Q29A

2025-06-10 02:44:33,814 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:44:33,814 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:44:33,814 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:45:28,429 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:45:28,429 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:45:28,430 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:45:28,430 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:45:28,430 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 02:45:28,457 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 02:45:28,457 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:46:00,935 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:46:00,935 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:46:00,936 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:46:00,936 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:46:00,936 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 02:46:00,936 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:46:00,936 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:46:00,936 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:46:00,936 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:46:00,937 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 02:46:00,944 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 02:46:00,944 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:46:00,944 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 02:46:22,688 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 02:46:22,688 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 02:46:22,688 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 02:58:05,129 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:58:05,130 - INFO - app.core.security - Redis connection closed.
2025-06-10 02:58:08,377 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 02:58:08,377 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 02:58:08,506 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 02:58:08,506 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 02:58:08,506 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 02:58:08,506 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 28, 8, 506213), 'iat': datetime.datetime(2025, 6, 10, 9, 58, 8, 506223)}
2025-06-10 02:58:08,507 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MTI4OCwiaWF0IjoxNzQ5NTQ5NDg4fQ.l51fwY0WsYeFH-6r3yojo7MXv81LzWAmXVrdJd5gP9U

2025-06-10 02:58:12,045 - INFO - app.core.security - Closing Redis connection...
2025-06-10 02:58:12,046 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:06:32,872 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:06:32,872 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:06:33,022 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:06:33,022 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:06:33,022 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:06:33,022 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 36, 33, 22038), 'iat': datetime.datetime(2025, 6, 10, 10, 6, 33, 22043)}
2025-06-10 03:06:33,024 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MTc5MywiaWF0IjoxNzQ5NTQ5OTkzfQ.r9x8vq3thJaxtXl6D6dAQZSXybLRINzcH-epi7WpUnY

2025-06-10 03:06:38,045 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:06:38,046 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:06:38,047 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:03,819 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:07:03,820 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:07:03,820 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:03,821 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:03,823 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:07:03,926 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:07:03,927 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:07:24,380 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:07:24,380 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:07:24,381 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:24,381 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:24,381 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 03:07:24,381 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:07:24,381 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:07:24,382 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:24,382 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749550201, 'iat': 1749548401}
2025-06-10 03:07:24,382 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:07:24,389 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:07:24,389 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:07:24,389 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:07:53,941 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:07:53,942 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:20:15,371 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:20:15,371 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:20:15,493 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:20:15,494 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:20:15,494 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:20:15,494 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 10, 50, 15, 493928), 'iat': datetime.datetime(2025, 6, 10, 10, 20, 15, 493936)}
2025-06-10 03:20:15,495 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MjYxNSwiaWF0IjoxNzQ5NTUwODE1fQ.xtHQEZZxcfaEdGcV6bFZQURAsj9NY0Ukk-Z6r-mjjBw

2025-06-10 03:20:24,562 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:20:24,562 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:20:24,562 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 03:20:25,860 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:20:25,860 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:20:25,860 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 03:20:37,062 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:20:37,062 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:20:37,062 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:20:37,062 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 10, 50, 37, 62186), 'iat': datetime.datetime(2025, 6, 10, 10, 20, 37, 62189)}
2025-06-10 03:20:37,062 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTI2MzcsImlhdCI6MTc0OTU1MDgzN30.3w87MyhXzjQvkrZH2aqy_0wBl1u92qrCm_bpmdw_eNY

2025-06-10 03:20:37,062 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTU2MzcsImlhdCI6MTc0OTU1MDgzN30.DrpMOqsjmaHhLixV_jAz5STvWktuyBrvB6930oh_6dU, Expiry (seconds): 604800
2025-06-10 03:20:37,063 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 03:20:48,617 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:20:48,618 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:20:48,618 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:21:16,595 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:21:16,595 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:21:16,596 - WARNING - app.core.security - JWTError in decode_token: JWTError - Signature verification failed.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 264, in _verify_signature
    raise JWSSignatureError()
jose.exceptions.JWSSignatureError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 159, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 77, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 266, in _verify_signature
    raise JWSError("Signature verification failed.")
jose.exceptions.JWSError: Signature verification failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 161, in decode
    raise JWTError(e)
jose.exceptions.JWTError: Signature verification failed.
2025-06-10 03:21:16,599 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 264, in _verify_signature
    raise JWSSignatureError()
jose.exceptions.JWSSignatureError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 159, in decode
    payload = jws.verify(token, key, algorithms, verify=verify_signature)
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 77, in verify
    _verify_signature(signing_input, header, signature, key, algorithms)
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jws.py", line 266, in _verify_signature
    raise JWSError("Signature verification failed.")
jose.exceptions.JWSError: Signature verification failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 161, in decode
    raise JWTError(e)
jose.exceptions.JWTError: Signature verification failed.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-10 03:21:27,437 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:21:27,437 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:21:27,437 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:21:27,437 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:21:27,437 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:21:27,456 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:21:27,456 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:22:29,124 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:22:29,125 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:31:40,441 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:31:40,441 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:31:40,567 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:31:40,567 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:31:40,567 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:31:40,567 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 1, 40, 567189), 'iat': datetime.datetime(2025, 6, 10, 10, 31, 40, 567192)}
2025-06-10 03:31:40,567 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1MzMwMCwiaWF0IjoxNzQ5NTUxNTAwfQ.0-oaMGvjeVx6Fq2UagNgGWX9_fxwZJI6Txwdr03MSDE

2025-06-10 03:31:46,050 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:31:46,051 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:31:46,051 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:32:28,352 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:32:28,352 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:32:28,353 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 03:32:28,356 - ERROR - app.core.security - Authentication error in get_user_from_service_or_user_token: Could not validate credentials
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 358, in get_user_from_service_or_user_token
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-10 03:32:34,455 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:32:34,455 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:32:34,455 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:32:34,455 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 11, 2, 34, 455020), 'iat': datetime.datetime(2025, 6, 10, 10, 32, 34, 455030)}
2025-06-10 03:32:34,455 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTMzNTQsImlhdCI6MTc0OTU1MTU1NH0.hIIbFXtlHk7XS1UU71UwwNruGs00WCSWNGBY1TPCFdc

2025-06-10 03:32:34,456 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTYzNTQsImlhdCI6MTc0OTU1MTU1NH0.iRaG11CBeH8kBJxKoS-nMyIWu03CmfslSo5d2ICwwj8, Expiry (seconds): 604800
2025-06-10 03:32:34,456 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 03:32:43,258 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:32:43,258 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:32:43,259 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749553354, 'iat': 1749551554}
2025-06-10 03:32:43,259 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749553354, 'iat': 1749551554}
2025-06-10 03:32:43,259 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 03:32:43,259 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:32:43,259 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:32:43,259 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749553354, 'iat': 1749551554}
2025-06-10 03:32:43,260 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749553354, 'iat': 1749551554}
2025-06-10 03:32:43,260 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:32:43,268 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:32:43,269 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:32:43,269 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:33:25,616 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:33:25,617 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:46:15,968 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:46:15,968 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:46:16,118 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:46:16,118 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:46:16,118 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:46:16,118 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 16, 16, 118575), 'iat': datetime.datetime(2025, 6, 10, 10, 46, 16, 118579)}
2025-06-10 03:46:16,119 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NDE3NiwiaWF0IjoxNzQ5NTUyMzc2fQ.EjWOGVKtGN6RCakENAyXM9t-Al9rO39_DIfyXvlcPWA

2025-06-10 03:46:20,429 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:46:20,429 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:46:20,429 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:48:29,232 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:48:29,233 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:48:31,574 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:48:31,574 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:48:31,723 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:48:31,723 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:48:31,723 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:48:31,723 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 18, 31, 723576), 'iat': datetime.datetime(2025, 6, 10, 10, 48, 31, 723582)}
2025-06-10 03:48:31,724 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NDMxMSwiaWF0IjoxNzQ5NTUyNTExfQ.kUvpNxMkvCNS5bxOCfbf5FSzwYN1nXssjuM0VGAfc6E

2025-06-10 03:48:54,563 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:48:54,564 - INFO - app.core.security - Redis connection closed.
2025-06-10 03:48:56,797 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 03:48:56,798 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 03:48:56,938 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 03:48:56,938 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 03:48:56,939 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 03:48:56,939 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 18, 56, 938813), 'iat': datetime.datetime(2025, 6, 10, 10, 48, 56, 938819)}
2025-06-10 03:48:56,939 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NDMzNiwiaWF0IjoxNzQ5NTUyNTM2fQ.zPD8PIdwp8zDQvRXWB3vl_LbrfMAp7pl20y-55vqUo4

2025-06-10 03:48:58,882 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:48:58,882 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:48:58,882 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:49:32,197 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:49:32,197 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:49:32,198 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:49:32,198 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:49:32,198 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:49:32,215 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:49:32,215 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:50:05,303 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 03:50:05,304 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 03:50:05,304 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:50:05,304 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749552637, 'iat': 1749550837}
2025-06-10 03:50:05,304 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 03:50:05,311 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 03:50:05,311 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 03:50:29,377 - INFO - app.core.security - Closing Redis connection...
2025-06-10 03:50:29,378 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:00:12,711 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:00:12,711 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:00:12,879 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:00:12,879 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:00:12,879 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:00:12,879 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 30, 12, 878996), 'iat': datetime.datetime(2025, 6, 10, 11, 0, 12, 879008)}
2025-06-10 04:00:12,880 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NTAxMiwiaWF0IjoxNzQ5NTUzMjEyfQ.5qqzjJF0h8PFUX-fAJGcVLPj74TVx_UJslSzUu0uuGQ

2025-06-10 04:12:31,886 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:12:31,889 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:12:34,976 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:12:34,977 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:12:35,175 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:12:35,175 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:12:35,176 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:12:35,176 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 42, 35, 175816), 'iat': datetime.datetime(2025, 6, 10, 11, 12, 35, 175819)}
2025-06-10 04:12:35,176 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NTc1NSwiaWF0IjoxNzQ5NTUzOTU1fQ.NGgRav5tlvHs9bRGMUdqlnVMMTYeg7HHD7_4adX037U

2025-06-10 04:13:15,692 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:13:15,693 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:13:17,929 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:13:17,929 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:13:18,054 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:13:18,054 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:13:18,054 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:13:18,054 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 43, 18, 54189), 'iat': datetime.datetime(2025, 6, 10, 11, 13, 18, 54192)}
2025-06-10 04:13:18,054 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NTc5OCwiaWF0IjoxNzQ5NTUzOTk4fQ.aWI4KVw1tpEd92PWUoAKZSJx1TwKo7W-SPM2d46_RLg

2025-06-10 04:13:52,638 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:13:52,639 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:13:54,843 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:13:54,843 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:13:55,007 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:13:55,007 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:13:55,007 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:13:55,007 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 43, 55, 7378), 'iat': datetime.datetime(2025, 6, 10, 11, 13, 55, 7384)}
2025-06-10 04:13:55,008 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NTgzNSwiaWF0IjoxNzQ5NTU0MDM1fQ.M9dUQNH9c82ZHLsOBGhE5i8liAEi6OJArzAemWDwbAg

2025-06-10 04:19:32,306 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:19:32,308 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:19:35,615 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:19:35,615 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:19:35,778 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:19:35,778 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:19:35,778 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:19:35,778 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 49, 35, 778283), 'iat': datetime.datetime(2025, 6, 10, 11, 19, 35, 778286)}
2025-06-10 04:19:35,779 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjE3NSwiaWF0IjoxNzQ5NTU0Mzc1fQ.HUT0YXCC6cPG_HLttqgqCYJ4sRzK-So7Wh1Wul3KL9A

2025-06-10 04:19:57,709 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:19:57,711 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:19:59,990 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:19:59,990 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:20:00,139 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:20:00,139 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:20:00,140 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:20:00,140 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 50, 0, 139780), 'iat': datetime.datetime(2025, 6, 10, 11, 20, 0, 139786)}
2025-06-10 04:20:00,141 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjIwMCwiaWF0IjoxNzQ5NTU0NDAwfQ.ikOozuCoCLL0pIgr-9_TO2NMCTok9fNsnkuI0RPWZ4c

2025-06-10 04:20:32,312 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:20:32,313 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:20:34,317 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:20:34,318 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:20:34,451 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:20:34,451 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:20:34,451 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:20:34,451 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 50, 34, 451628), 'iat': datetime.datetime(2025, 6, 10, 11, 20, 34, 451631)}
2025-06-10 04:20:34,452 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjIzNCwiaWF0IjoxNzQ5NTU0NDM0fQ.ljlt8NlsMDOY7A4Z5SulOXDFeUBBbIFHaWV8nIlR-f0

2025-06-10 04:21:06,928 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:21:06,929 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:21:08,892 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:21:08,892 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:21:09,014 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:21:09,014 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:21:09,015 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:21:09,015 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 51, 9, 14857), 'iat': datetime.datetime(2025, 6, 10, 11, 21, 9, 14861)}
2025-06-10 04:21:09,015 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjI2OSwiaWF0IjoxNzQ5NTU0NDY5fQ.K-xMBPRea2yOi9x3oVp3LrtoXBRP5FNy8yQsZIXJTtY

2025-06-10 04:21:39,279 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:21:39,279 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:21:41,185 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:21:41,185 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:21:41,291 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:21:41,291 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:21:41,291 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:21:41,291 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 51, 41, 291642), 'iat': datetime.datetime(2025, 6, 10, 11, 21, 41, 291646)}
2025-06-10 04:21:41,292 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjMwMSwiaWF0IjoxNzQ5NTU0NTAxfQ.N97-Yub6Qgh75QZ0qVLkwWMjBbm8Vf8-0Ne99DHMQLE

2025-06-10 04:27:25,289 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:27:25,290 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:27:27,481 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:27:27,482 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:27:27,696 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:27:27,696 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:27:27,696 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:27:27,696 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 11, 57, 27, 696064), 'iat': datetime.datetime(2025, 6, 10, 11, 27, 27, 696072)}
2025-06-10 04:27:27,696 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjY0NywiaWF0IjoxNzQ5NTU0ODQ3fQ.luqAcbsdxZiqcXEl91BOuqBWZ4jQskL8T7U8qL1Ne9o

2025-06-10 04:28:49,410 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:28:49,410 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:28:49,411 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 04:30:00,005 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:30:00,006 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:30:00,006 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:30:00,006 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 0, 0, 5805), 'iat': datetime.datetime(2025, 6, 10, 11, 30, 0, 5816)}
2025-06-10 04:30:00,007 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NjgwMCwiaWF0IjoxNzQ5NTU1MDAwfQ.L2oImhpTXYllfQOsKeiP54kALJLcAj3vl1lSP5QnMOU

2025-06-10 04:30:28,892 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:30:28,892 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:30:28,893 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 04:31:09,678 - WARNING - app.core.security - Access token is missing.
2025-06-10 04:32:21,128 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:32:21,129 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:32:21,129 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:32:21,129 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 12, 2, 21, 128852), 'iat': datetime.datetime(2025, 6, 10, 11, 32, 21, 128861)}
2025-06-10 04:32:21,130 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTY5NDEsImlhdCI6MTc0OTU1NTE0MX0.8mrc5Q6Vny7p29c6C-LSPAkTA8TV-gLC1z_c6VjUZ3E

2025-06-10 04:32:21,130 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNTk5NDEsImlhdCI6MTc0OTU1NTE0MX0.6RG8KFIGZ47-MbvcsJS6h-u0D-bpF1Rk6ZrhdeNiDyo, Expiry (seconds): 604800
2025-06-10 04:32:21,163 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 04:32:41,220 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:32:41,220 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:32:41,220 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:10,086 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:10,086 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:33:10,086 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:10,086 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:10,086 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:33:10,093 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:33:10,093 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:33:10,093 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:37,540 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:37,540 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:33:37,540 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:37,540 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:33:37,540 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:33:37,546 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:33:37,546 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:33:37,546 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:34:33,454 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:34:33,455 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:40:12,617 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:40:12,617 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:40:12,789 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:40:12,789 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:40:12,789 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:40:12,789 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 10, 12, 789545), 'iat': datetime.datetime(2025, 6, 10, 11, 40, 12, 789547)}
2025-06-10 04:40:12,790 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1NzQxMiwiaWF0IjoxNzQ5NTU1NjEyfQ.bYKaNqt7G2oPN_JsTcAEMDKzwrNAsUprC7GsKI-yhfU

2025-06-10 04:40:16,292 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:40:16,293 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:40:16,293 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:33,254 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:40:33,254 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:40:33,255 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:33,255 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:33,255 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:40:33,271 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:40:33,271 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:40:51,571 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:40:51,571 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:40:51,571 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:51,572 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:51,572 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 04:40:51,572 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:40:51,572 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:40:51,572 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:51,572 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:40:51,572 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:40:51,579 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:40:51,579 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:40:51,580 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:42:24,954 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:42:24,955 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:52:11,522 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:52:11,523 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:52:11,895 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:52:11,895 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:52:11,895 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:52:11,895 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 22, 11, 895059), 'iat': datetime.datetime(2025, 6, 10, 11, 52, 11, 895068)}
2025-06-10 04:52:11,898 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1ODEzMSwiaWF0IjoxNzQ5NTU2MzMxfQ.uwtnxPx1hI3c6mQw6uPiZUJFMxdxLDGyAm9wX1fnxFo

2025-06-10 04:52:25,426 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:52:25,427 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:52:25,428 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:52:45,223 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:52:45,223 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:52:45,223 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:52:45,224 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:52:45,224 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:52:45,291 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:52:45,292 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:53:10,760 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:53:10,761 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:53:10,761 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:53:10,761 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:53:10,761 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 04:53:10,761 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:53:10,761 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:53:10,762 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:53:10,762 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 04:53:10,762 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 04:53:10,774 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 04:53:10,774 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:53:10,775 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 04:54:26,355 - INFO - app.core.security - Closing Redis connection...
2025-06-10 04:54:26,356 - INFO - app.core.security - Redis connection closed.
2025-06-10 04:59:31,907 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 04:59:31,908 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 04:59:32,072 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 04:59:32,072 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 04:59:32,072 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 04:59:32,072 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 29, 32, 72627), 'iat': datetime.datetime(2025, 6, 10, 11, 59, 32, 72632)}
2025-06-10 04:59:32,073 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1ODU3MiwiaWF0IjoxNzQ5NTU2NzcyfQ.Nv1O5cDVTQNUuGauuOGU1Bge4ccimBu_vaaAEyz2jHE

2025-06-10 04:59:43,551 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 04:59:43,551 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 04:59:43,552 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:00,012 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:00:00,012 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:00:00,013 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:00:00,013 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 30, 0, 12521), 'iat': datetime.datetime(2025, 6, 10, 12, 0, 0, 12532)}
2025-06-10 05:00:00,013 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1ODYwMCwiaWF0IjoxNzQ5NTU2ODAwfQ.rCM--jr0TYK9BbQPxbuswWmzs199Ggo9KjGmXwPMnyQ

2025-06-10 05:00:04,379 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:00:04,379 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:00:04,380 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:04,380 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:04,380 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:00:04,390 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:00:04,390 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:00:32,550 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:00:32,551 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:00:32,551 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:32,551 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:32,551 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:00:32,551 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:00:32,552 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:00:32,552 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:32,552 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749556941, 'iat': 1749555141}
2025-06-10 05:00:32,552 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:00:32,559 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:00:32,559 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:00:32,560 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:03:09,609 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:03:09,610 - INFO - app.core.security - Redis connection closed.
2025-06-10 05:09:12,117 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 05:09:12,117 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 05:09:12,294 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:09:12,294 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:09:12,294 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:09:12,294 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 39, 12, 294343), 'iat': datetime.datetime(2025, 6, 10, 12, 9, 12, 294345)}
2025-06-10 05:09:12,295 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1OTE1MiwiaWF0IjoxNzQ5NTU3MzUyfQ.AUfWcPTRuGVb5t1qfjKwtmAO_ClBDAmMWyYD734iyQA

2025-06-10 05:09:19,211 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:09:19,211 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:09:19,212 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 05:09:23,694 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:09:23,694 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:09:23,694 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:09:23,694 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 12, 39, 23, 694497), 'iat': datetime.datetime(2025, 6, 10, 12, 9, 23, 694506)}
2025-06-10 05:09:23,695 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTkxNjMsImlhdCI6MTc0OTU1NzM2M30.rueQFPJwGnCc_RqPQvjWE_57HLD4LgryvF3zgCst5GM

2025-06-10 05:09:23,695 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNjIxNjMsImlhdCI6MTc0OTU1NzM2M30.mxqZUJXHckj4k0Qd_LZTr8cvrQiMUnCi0cmWCTkJx7c, Expiry (seconds): 604800
2025-06-10 05:09:23,697 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 05:09:34,674 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:09:34,674 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:09:34,675 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:09:59,656 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:09:59,656 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:09:59,657 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:09:59,657 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:09:59,657 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:09:59,668 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:09:59,669 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:10:42,642 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:10:42,642 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:10:42,642 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:10:42,643 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:10:42,643 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:10:42,643 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:10:42,643 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:10:42,643 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:10:42,644 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:10:42,644 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:10:42,653 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:10:42,653 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:10:42,653 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:11:06,736 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:11:06,737 - INFO - app.core.security - Redis connection closed.
2025-06-10 05:12:21,098 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 05:12:21,098 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 05:12:21,213 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:12:21,213 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:12:21,214 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:12:21,214 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 42, 21, 213777), 'iat': datetime.datetime(2025, 6, 10, 12, 12, 21, 213784)}
2025-06-10 05:12:21,214 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1OTM0MSwiaWF0IjoxNzQ5NTU3NTQxfQ.F9f8esQ7Ps7lV_Zo5LzV6qbse7dKCqrPQ7MFDzCFhIc

2025-06-10 05:12:29,338 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:12:29,338 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:12:29,339 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:12:46,849 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:12:46,850 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:12:46,850 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:12:46,850 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:12:46,850 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:12:46,858 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:12:46,858 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:13:07,768 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:13:07,769 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:13:07,770 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:13:07,771 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:13:07,771 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:13:07,771 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:13:07,771 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:13:07,772 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:13:07,772 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:13:07,773 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:13:07,789 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:13:07,789 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:13:07,790 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:13:26,185 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:13:26,185 - INFO - app.core.security - Redis connection closed.
2025-06-10 05:15:52,666 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 05:15:52,667 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 05:15:52,789 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:15:52,789 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:15:52,789 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:15:52,789 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 45, 52, 789045), 'iat': datetime.datetime(2025, 6, 10, 12, 15, 52, 789049)}
2025-06-10 05:15:52,790 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1OTU1MiwiaWF0IjoxNzQ5NTU3NzUyfQ.A7FfWbe_uw7bra321SfaGFmcd1WwsC6YUp-r7sLlN4Y

2025-06-10 05:16:30,204 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:16:30,204 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:16:30,204 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:16:30,204 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 12, 46, 30, 204086), 'iat': datetime.datetime(2025, 6, 10, 12, 16, 30, 204093)}
2025-06-10 05:16:30,205 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NTk1OTAsImlhdCI6MTc0OTU1Nzc5MH0.qi_HueA8zyqqwht67HjbLmqBXm1SxITSTdb_itwdeL4

2025-06-10 05:16:30,205 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNjI1OTAsImlhdCI6MTc0OTU1Nzc5MH0.VZcOqpy-CKZdHCPldTMFXQeUBWVsN15zMZ3Kfx5JuIg, Expiry (seconds): 604800
2025-06-10 05:16:30,205 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 05:16:40,085 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:16:40,085 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:16:40,085 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559590, 'iat': 1749557790}
2025-06-10 05:17:00,854 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:17:00,855 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:17:00,855 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:00,855 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:00,855 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:17:00,860 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:17:00,861 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:17:23,679 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:17:23,679 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:17:23,679 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:23,680 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:23,680 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:17:23,680 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:17:23,680 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:17:23,680 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:23,680 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:17:23,680 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:17:23,685 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:17:23,685 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:17:23,685 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:17:53,923 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:17:53,924 - INFO - app.core.security - Redis connection closed.
2025-06-10 05:20:52,109 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 05:20:52,109 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 05:20:52,231 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:20:52,231 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:20:52,231 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:20:52,231 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 12, 50, 52, 231319), 'iat': datetime.datetime(2025, 6, 10, 12, 20, 52, 231325)}
2025-06-10 05:20:52,232 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU1OTg1MiwiaWF0IjoxNzQ5NTU4MDUyfQ.FmKUYYVdBVf4DTE3sxkUGgArzp1bQ80D4442nd3qVGk

2025-06-10 05:21:12,495 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:21:12,495 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:21:12,496 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559590, 'iat': 1749557790}
2025-06-10 05:21:28,064 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:21:28,064 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:21:28,065 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:28,065 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:28,065 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:21:28,074 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:21:28,074 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:21:46,787 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:21:46,787 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:21:46,788 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:46,788 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:46,788 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:21:46,788 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:21:46,788 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:21:46,789 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:46,789 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559163, 'iat': 1749557363}
2025-06-10 05:21:46,789 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:21:46,811 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:21:46,811 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:21:46,811 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:27:38,503 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:27:38,505 - INFO - app.core.security - Redis connection closed.
2025-06-10 05:44:27,440 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 05:44:27,440 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 05:44:27,593 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:44:27,593 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:44:27,593 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:44:27,594 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 10, 13, 14, 27, 593910), 'iat': datetime.datetime(2025, 6, 10, 12, 44, 27, 593913)}
2025-06-10 05:44:27,595 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTU2MTI2NywiaWF0IjoxNzQ5NTU5NDY3fQ.uIFuO8vwFDOkLxvZYoldD3vKGqUppTcw_exTPSIyQZ4

2025-06-10 05:44:34,877 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:44:34,877 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:44:34,878 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749559590, 'iat': 1749557790}
2025-06-10 05:44:56,140 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:44:56,140 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:44:56,141 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 05:44:56,145 - WARNING - app.core.security - JWTError during access token validation.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 273, in get_current_user
    payload = decode_token(token)
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 102, in decode_token
    raise JWTError("Could not validate credentials")
jose.exceptions.JWTError: Could not validate credentials
2025-06-10 05:45:00,852 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 05:45:00,852 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 05:45:00,852 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 05:45:00,852 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 10, 13, 15, 0, 852475), 'iat': datetime.datetime(2025, 6, 10, 12, 45, 0, 852484)}
2025-06-10 05:45:00,853 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk1NjEzMDAsImlhdCI6MTc0OTU1OTUwMH0.hgvx8RpeeXHd4xA-_JcrUI1tQw_l_5kflqseYP0g7jA

2025-06-10 05:45:00,853 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAxNjQzMDAsImlhdCI6MTc0OTU1OTUwMH0._56KFYKju_hyGDwvp2HrsLg0xZAJH13kR1PKrGPRWII, Expiry (seconds): 604800
2025-06-10 05:45:00,854 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 05:45:17,616 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:45:17,616 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:45:17,616 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:17,617 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:17,617 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:45:17,638 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:45:17,639 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:45:35,966 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:45:35,967 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:45:35,967 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:35,967 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:35,967 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 05:45:35,967 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 05:45:35,967 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 05:45:35,968 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:35,968 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749561300, 'iat': 1749559500}
2025-06-10 05:45:35,968 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 05:45:35,973 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 05:45:35,973 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:45:35,973 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 05:45:50,793 - INFO - app.core.security - Closing Redis connection...
2025-06-10 05:45:50,794 - INFO - app.core.security - Redis connection closed.
2025-06-10 21:32:44,585 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 21:32:44,585 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 21:32:44,913 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 21:32:44,913 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 21:32:44,913 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 21:32:44,913 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 5, 2, 44, 913696), 'iat': datetime.datetime(2025, 6, 11, 4, 32, 44, 913699)}
2025-06-10 21:32:44,918 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYxODE2NCwiaWF0IjoxNzQ5NjE2MzY0fQ.oU1INdZIGDjhydY1YRwUnkCGvKByBI3_sI6pPpMUeF8

2025-06-10 21:33:41,712 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 21:33:41,712 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 21:33:41,712 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 21:33:41,712 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 11, 5, 3, 41, 712492), 'iat': datetime.datetime(2025, 6, 11, 4, 33, 41, 712499)}
2025-06-10 21:33:41,713 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2MTgyMjEsImlhdCI6MTc0OTYxNjQyMX0.3bWHWEoGgVRHxMZB2JhrEK_We42BXCc3HdAVPIvJ_04

2025-06-10 21:33:41,713 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAyMjEyMjEsImlhdCI6MTc0OTYxNjQyMX0.vshPyxh_FdMPzsqUMZKqem-RdRbeDRgJ5bCNL7dYi_0, Expiry (seconds): 604800
2025-06-10 21:33:41,732 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 21:33:57,049 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:33:57,049 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:33:57,050 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749618221, 'iat': 1749616421}
2025-06-10 21:34:25,584 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:34:25,584 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:34:25,584 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749618221, 'iat': 1749616421}
2025-06-10 21:34:25,584 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749618221, 'iat': 1749616421}
2025-06-10 21:34:25,585 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 21:34:25,594 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 21:34:25,594 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 21:34:40,945 - INFO - app.core.security - Closing Redis connection...
2025-06-10 21:34:40,947 - INFO - app.core.security - Redis connection closed.
2025-06-10 21:52:33,620 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 21:52:33,620 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 21:52:33,769 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 21:52:33,769 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 21:52:33,769 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 21:52:33,769 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 5, 22, 33, 769118), 'iat': datetime.datetime(2025, 6, 11, 4, 52, 33, 769122)}
2025-06-10 21:52:33,771 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYxOTM1MywiaWF0IjoxNzQ5NjE3NTUzfQ.XPer5IGAsyn9Si0QucoO1EkNbrMRJIhATSiwW38Woxg

2025-06-10 21:52:39,696 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 21:52:39,696 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 21:52:39,696 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 21:52:39,696 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 11, 5, 22, 39, 695952), 'iat': datetime.datetime(2025, 6, 11, 4, 52, 39, 695962)}
2025-06-10 21:52:39,696 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2MTkzNTksImlhdCI6MTc0OTYxNzU1OX0.m0IxQak8HrpMhwv2y0yYIEKDeTQPrTlk-FpjJQ_E2kg

2025-06-10 21:52:39,697 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAyMjIzNTksImlhdCI6MTc0OTYxNzU1OX0.GZiS11JM1MPVoDhvtnOeFvgTFY809Y9-8sqbNSjPu4w, Expiry (seconds): 604800
2025-06-10 21:52:39,698 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 21:52:56,061 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:52:56,062 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:52:56,063 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:55:50,001 - INFO - app.core.security - Closing Redis connection...
2025-06-10 21:55:50,002 - INFO - app.core.security - Redis connection closed.
2025-06-10 21:55:54,640 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 21:55:54,640 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 21:55:54,741 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 21:55:54,741 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 21:55:54,741 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 21:55:54,741 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 5, 25, 54, 741583), 'iat': datetime.datetime(2025, 6, 11, 4, 55, 54, 741586)}
2025-06-10 21:55:54,742 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYxOTU1NCwiaWF0IjoxNzQ5NjE3NzU0fQ.Ke3sRq5cf0YJ4PDzA0WddWroXYRN65XndT2nhnyX6YI

2025-06-10 21:56:06,805 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:56:06,806 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:56:06,806 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:56:23,509 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:56:23,509 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:56:23,509 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:56:23,509 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:56:23,510 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 21:56:23,526 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 21:56:23,526 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 21:57:03,301 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:57:03,301 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:57:03,301 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:57:03,301 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:57:03,302 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 21:57:03,302 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 21:57:03,302 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 21:57:03,302 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:57:03,302 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 21:57:03,302 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 21:57:03,308 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 21:57:03,309 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 21:57:03,309 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 21:58:35,865 - INFO - app.core.security - Closing Redis connection...
2025-06-10 21:58:35,866 - INFO - app.core.security - Redis connection closed.
2025-06-10 22:08:08,299 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:08:08,299 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:08:08,459 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:08:08,459 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:08:08,459 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:08:08,459 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 5, 38, 8, 459177), 'iat': datetime.datetime(2025, 6, 11, 5, 8, 8, 459183)}
2025-06-10 22:08:08,460 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMDI4OCwiaWF0IjoxNzQ5NjE4NDg4fQ.zm_A9DxKvkO0NLgbrdFzf3qscoea7-aAflhN9F-lLG8

2025-06-10 22:08:17,131 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:08:17,131 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:08:17,131 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:29,337 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:08:29,337 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:08:29,338 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:29,338 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:29,338 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:08:29,350 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:08:29,350 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:08:46,065 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:08:46,066 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:08:46,066 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:46,066 - INFO - app.core.security - Token payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:46,067 - INFO - app.core.security - Regular user token detected. Deferring to get_current_user.
2025-06-10 22:08:46,067 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:08:46,067 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:08:46,067 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:46,067 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:08:46,068 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:08:46,170 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:08:46,170 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:08:46,170 - INFO - app.core.security - Authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:10:23,773 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:10:23,774 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:10:23,774 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:10:23,774 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 11, 5, 40, 23, 773910), 'iat': datetime.datetime(2025, 6, 11, 5, 10, 23, 773917)}
2025-06-10 22:10:23,775 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2MjA0MjMsImlhdCI6MTc0OTYxODYyM30.BebgwFtOLGN0cz_GzAsphwLZWHLkEk6TGj67Y1jySFo

2025-06-10 22:10:23,775 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAyMjM0MjMsImlhdCI6MTc0OTYxODYyM30.WmPxzpMtHr_XD81Bv2zFTMXba7H1XzvkYzYVlcPR8-U, Expiry (seconds): 604800
2025-06-10 22:10:23,777 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 22:10:36,609 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:10:36,609 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:10:36,610 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:10:36,610 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:10:36,610 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:10:36,639 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:10:36,640 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:11:36,475 - INFO - app.core.security - Closing Redis connection...
2025-06-10 22:11:36,476 - INFO - app.core.security - Redis connection closed.
2025-06-10 22:18:53,179 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:18:53,179 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:18:53,294 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:18:53,294 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:18:53,294 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:18:53,294 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 5, 48, 53, 293973), 'iat': datetime.datetime(2025, 6, 11, 5, 18, 53, 293977)}
2025-06-10 22:18:53,294 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMDkzMywiaWF0IjoxNzQ5NjE5MTMzfQ.nNh75Vhc5K0322UqxNmsnGOrH7vUVYGvcbXIujwKvV4

2025-06-10 22:19:00,027 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:19:00,027 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:19:00,027 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749619359, 'iat': 1749617559}
2025-06-10 22:19:08,433 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:19:08,434 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:19:08,434 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:08,435 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:08,435 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:19:08,451 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:19:08,452 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:19:16,689 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:19:16,689 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:19:16,690 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:16,690 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:16,690 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:19:16,697 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:19:16,697 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:19:25,912 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:19:25,912 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:19:25,913 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:25,913 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:19:25,913 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:19:25,917 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:19:25,917 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:27:43,407 - INFO - app.core.security - Closing Redis connection...
2025-06-10 22:27:43,408 - INFO - app.core.security - Redis connection closed.
2025-06-10 22:31:52,342 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:31:52,342 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:31:52,643 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:31:52,644 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:31:52,644 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:31:52,644 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 6, 1, 52, 643947), 'iat': datetime.datetime(2025, 6, 11, 5, 31, 52, 643953)}
2025-06-10 22:31:52,645 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMTcxMiwiaWF0IjoxNzQ5NjE5OTEyfQ.OvJeKcizYFMr9CgYIoFSgK_ok_JTI87qR-eD7BcLIIw

2025-06-10 22:31:58,987 - INFO - app.core.security - Closing Redis connection...
2025-06-10 22:31:58,988 - INFO - app.core.security - Redis connection closed.
2025-06-10 22:32:03,389 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:32:03,389 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:32:03,515 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:32:03,515 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:32:03,515 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:32:03,515 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 6, 2, 3, 515652), 'iat': datetime.datetime(2025, 6, 11, 5, 32, 3, 515657)}
2025-06-10 22:32:03,517 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMTcyMywiaWF0IjoxNzQ5NjE5OTIzfQ.KiU6vTDwtT9UV7qJiYncFTFfDttcrnityaxRx3YUMCU

2025-06-10 22:32:19,663 - INFO - app.core.security - Closing Redis connection...
2025-06-10 22:32:19,664 - INFO - app.core.security - Redis connection closed.
2025-06-10 22:32:20,609 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:32:20,610 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:32:20,713 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:32:20,713 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:32:20,713 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:32:20,713 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 6, 2, 20, 713658), 'iat': datetime.datetime(2025, 6, 11, 5, 32, 20, 713662)}
2025-06-10 22:32:20,714 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMTc0MCwiaWF0IjoxNzQ5NjE5OTQwfQ.xzV6QDxnia2tO57rNMd8RsckAnU0_5Nhce6ESt4R85Y

2025-06-10 22:32:21,858 - INFO - app.core.security - Attempting to connect to Redis...
2025-06-10 22:32:21,858 - INFO - app.core.security - Redis connection details:
  Host: 127.0.0.1
  Resolved IP: 127.0.0.1
  Port: 6379
  DB: 0
  Password: <not set>
2025-06-10 22:32:21,979 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:32:21,979 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:32:21,979 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:32:21,979 - DEBUG - app.core.security - Payload to encode: {'sub': 'service', 'service_name': 'python_bridge', 'exp': datetime.datetime(2025, 6, 11, 6, 2, 21, 979092), 'iat': datetime.datetime(2025, 6, 11, 5, 32, 21, 979095)}
2025-06-10 22:32:21,979 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJzZXJ2aWNlIiwic2VydmljZV9uYW1lIjoicHl0aG9uX2JyaWRnZSIsImV4cCI6MTc0OTYyMTc0MSwiaWF0IjoxNzQ5NjE5OTQxfQ.hlG9es7Q2UV5cK5s4ZFAvjnc4hniD2egenZAnbHhI2c

2025-06-10 22:32:35,258 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:32:35,258 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:32:35,258 - WARNING - app.core.security - JWTError in decode_token: ExpiredSignatureError - Signature has expired.
Traceback (most recent call last):
  File "C:\Users\Dhanush\FASTAPI\app\core\security.py", line 97, in decode_token
    payload = jwt.decode(token, settings.SECRET_KEY, algorithms=[settings.ALGORITHM])
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 174, in decode
    _validate_claims(
    ~~~~~~~~~~~~~~~~^
        claims,
        ^^^^^^^
    ...<5 lines>...
        options=defaults,
        ^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 497, in _validate_claims
    _validate_exp(claims, leeway=leeway)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Dhanush\FASTAPI\venv\Lib\site-packages\jose\jwt.py", line 331, in _validate_exp
    raise ExpiredSignatureError("Signature has expired.")
jose.exceptions.ExpiredSignatureError: Signature has expired.
2025-06-10 22:32:45,285 - DEBUG - app.core.security - 
--- Token Creation Details ---
2025-06-10 22:32:45,285 - DEBUG - app.core.security - SECRET_KEY used for encoding: 'C8mDq9pX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY_wC2vB4uN6tE8rD0fC2aV4bN6mK8jL9iP_qW1eX3rZ_nT5yF7vU-sW1eQ0aJ2gI_lK4hO6iP8jQ9kR7lS5mV3nZ1xY'
2025-06-10 22:32:45,285 - DEBUG - app.core.security - ALGORITHM used for encoding: 'HS256'
2025-06-10 22:32:45,286 - DEBUG - app.core.security - Payload to encode: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': datetime.datetime(2025, 6, 11, 6, 2, 45, 285315), 'iat': datetime.datetime(2025, 6, 11, 5, 32, 45, 285326)}
2025-06-10 22:32:45,286 - DEBUG - app.core.security - Generated JWT: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NDk2MjE3NjUsImlhdCI6MTc0OTYxOTk2NX0.OJ28-X3w0t4SRsdxzmHBGCnu_9ml0_Oq7KSSYPI-wPY

2025-06-10 22:32:45,286 - INFO - app.core.security - Storing refresh token for user ID 1 (Type: demo). Key: refresh_token:eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwidXNlcl90eXBlIjoiZGVtbyIsImFjY291bnRfbnVtYmVyIjoiNU80MkciLCJleHAiOjE3NTAyMjQ3NjUsImlhdCI6MTc0OTYxOTk2NX0.-EwXuAoMYuV6lp8p-5Nr2KzZ-tlH4FCgCcdKh0q6-x4, Expiry (seconds): 604800
2025-06-10 22:32:45,290 - INFO - app.core.security - Refresh token stored successfully for user ID: 1
2025-06-10 22:32:55,561 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:32:55,562 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:32:55,562 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749621765, 'iat': 1749619965}
2025-06-10 22:34:32,426 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:34:32,427 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:34:32,427 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:34:32,428 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:34:32,428 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:34:32,454 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:34:32,457 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:34:45,648 - DEBUG - app.core.security - Attempting to decode token: eyJhbGciOiJIUzI1NiIsInR5cCI6Ik...
2025-06-10 22:34:45,648 - DEBUG - app.core.security - Using SECRET_KEY: C8mDq... ALGORITHM: HS256
2025-06-10 22:34:45,649 - DEBUG - app.core.security - Token decoded successfully. Payload: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:34:45,649 - INFO - app.core.security - Token payload in get_current_user: {'sub': '1', 'user_type': 'demo', 'account_number': '5O42G', 'exp': 1749620423, 'iat': 1749618623}
2025-06-10 22:34:45,649 - INFO - app.core.security - Looking up demo user with ID: 1
2025-06-10 22:34:45,661 - INFO - app.core.security - Found demo user - ID: 1, Type: demo
2025-06-10 22:34:45,661 - INFO - app.core.security - Successfully authenticated user - ID: 1, Type: demo, Class: DemoUser
2025-06-10 22:36:41,818 - INFO - app.core.security - Closing Redis connection...
2025-06-10 22:36:41,820 - INFO - app.core.security - Redis connection closed.
